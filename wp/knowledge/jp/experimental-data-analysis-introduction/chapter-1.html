<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á¨¨1Á´†ÔºöÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆÂü∫Á§é - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Á¨¨1Á´†ÔºöÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆÂü∫Á§é</h1>
            <p class="subtitle">„Éá„Éº„ÇøÂâçÂá¶ÁêÜ„Åã„ÇâÂ§ñ„ÇåÂÄ§Ê§úÂá∫„Åæ„Åß - ‰ø°È†ºÊÄß„ÅÆÈ´ò„ÅÑËß£Êûê„ÅÆÁ¨¨‰∏ÄÊ≠©</p>
            <div class="meta">
                <span class="meta-item">üìñ Ë™≠‰∫ÜÊôÇÈñì: 20-25ÂàÜ</span>
                <span class="meta-item">üìä Èõ£ÊòìÂ∫¶: ÂàùÁ¥ö</span>
                <span class="meta-item">üíª „Ç≥„Éº„Éâ‰æã: 8ÂÄã</span>
                <span class="meta-item">üìù ÊºîÁøíÂïèÈ°å: 3Âïè</span>
            </div>
        </div>
    </header>

    <main class="container">

<h1>Á¨¨1Á´†ÔºöÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆÂü∫Á§é</h1>

<strong>„Éá„Éº„ÇøÂâçÂá¶ÁêÜ„Åã„ÇâÂ§ñ„ÇåÂÄ§Ê§úÂá∫„Åæ„Åß - ‰ø°È†ºÊÄß„ÅÆÈ´ò„ÅÑËß£Êûê„ÅÆÁ¨¨‰∏ÄÊ≠©</strong>

<h2>Â≠¶ÁøíÁõÆÊ®ô</h2>

„Åì„ÅÆÁ´†„ÇíË™≠„ÇÄ„Åì„Å®„Åß„ÄÅ‰ª•‰∏ã„ÇíÁøíÂæó„Åß„Åç„Åæ„ÅôÔºö

- ‚úÖ ÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆÂÖ®‰Ωì„ÉØ„Éº„ÇØ„Éï„É≠„Éº„ÇíË™¨Êòé„Åß„Åç„Çã
- ‚úÖ „Éá„Éº„ÇøÂâçÂá¶ÁêÜ„ÅÆÈáçË¶ÅÊÄß„Å®ÂêÑÊâãÊ≥ï„ÅÆ‰Ωø„ÅÑÂàÜ„Åë„ÇíÁêÜËß£„Åó„Å¶„ÅÑ„Çã
- ‚úÖ „Éé„Ç§„Ç∫Èô§Âéª„Éï„Ç£„É´„Çø„ÇíÈÅ©Âàá„Å´ÈÅ∏Êäû„ÉªÈÅ©Áî®„Åß„Åç„Çã
- ‚úÖ Â§ñ„ÇåÂÄ§„ÇíÊ§úÂá∫„Åó„ÄÅÈÅ©Âàá„Å´Âá¶ÁêÜ„Åß„Åç„Çã
- ‚úÖ Ê®ôÊ∫ñÂåñ„ÉªÊ≠£Ë¶èÂåñÊâãÊ≥ï„ÇíÁõÆÁöÑ„Å´Âøú„Åò„Å¶‰Ωø„ÅÑÂàÜ„Åë„Çâ„Çå„Çã

<strong>Ë™≠‰∫ÜÊôÇÈñì</strong>: 20-25ÂàÜ
<strong>„Ç≥„Éº„Éâ‰æã</strong>: 8ÂÄã
<strong>ÊºîÁøíÂïèÈ°å</strong>: 3Âïè

---

<h2>1.1 ÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆÈáçË¶ÅÊÄß„Å®„ÉØ„Éº„ÇØ„Éï„É≠„Éº</h2>

<h3>„Å™„Åú„Éá„Éº„ÇøÈßÜÂãïÂûãËß£Êûê„ÅåÂøÖË¶Å„Åã</h3>

ÊùêÊñôÁßëÂ≠¶Á†îÁ©∂„Åß„ÅØ„ÄÅXRDÔºàXÁ∑öÂõûÊäòÔºâ„ÄÅXPSÔºàXÁ∑öÂÖâÈõªÂ≠êÂàÜÂÖâÔºâ„ÄÅSEMÔºàËµ∞ÊüªÂûãÈõªÂ≠êÈ°ïÂæÆÈè°Ôºâ„ÄÅÂêÑÁ®Æ„Çπ„Éö„ÇØ„Éà„É´Ê∏¨ÂÆö„Å™„Å©„ÄÅÂ§öÊßò„Å™„Ç≠„É£„É©„ÇØ„Çø„É™„Çº„Éº„Ç∑„Éß„É≥ÊäÄË°ì„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„ÅÆÊ∏¨ÂÆö„Åã„ÇâÂæó„Çâ„Çå„Çã„Éá„Éº„Çø„ÅØ„ÄÅÊùêÊñô„ÅÆÊßãÈÄ†„ÄÅÁµÑÊàê„ÄÅÁâ©ÊÄß„ÇíÁêÜËß£„Åô„Çã‰∏ä„Åß‰∏çÂèØÊ¨†„Åß„Åô„ÄÇ

„Åó„Åã„Åó„ÄÅÂæìÊù•„ÅÆÊâãÂãïËß£Êûê„Å´„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™Ë™≤È°å„Åå„ÅÇ„Çä„Åæ„ÅôÔºö

<strong>ÂæìÊù•„ÅÆÊâãÂãïËß£Êûê„ÅÆÈôêÁïå</strong>:
1. <strong>ÊôÇÈñì„Åå„Åã„Åã„Çã</strong>: 1„Å§„ÅÆXRD„Éë„Çø„Éº„É≥„ÅÆ„Éî„Éº„ÇØÂêåÂÆö„Å´30ÂàÜ„Äú1ÊôÇÈñì
2. <strong>‰∏ªË¶≥ÁöÑ</strong>: Ëß£ÊûêËÄÖ„ÅÆÁµåÈ®ì„ÇÑÂà§Êñ≠„Å´„Çà„Å£„Å¶ÁµêÊûú„ÅåÁï∞„Å™„Çã
3. <strong>ÂÜçÁèæÊÄß„ÅÆÂïèÈ°å</strong>: Âêå„Åò„Éá„Éº„Çø„ÇíÂà•„ÅÆ‰∫∫„ÅåËß£Êûê„Åô„Çã„Å®Áï∞„Å™„ÇãÁµêÊûú„Å´„Å™„ÇãÂèØËÉΩÊÄß
4. <strong>Â§ßÈáè„Éá„Éº„Çø„Å´ÂØæÂøú„Åß„Åç„Å™„ÅÑ</strong>: „Éè„Ç§„Çπ„É´„Éº„Éó„ÉÉ„ÉàÊ∏¨ÂÆöÔºà1Êó•Êï∞Áôæ„ÄúÊï∞ÂçÉ„Çµ„É≥„Éó„É´Ôºâ„Å´ËøΩ„ÅÑ„Å§„Åã„Å™„ÅÑ

<strong>„Éá„Éº„ÇøÈßÜÂãïÂûãËß£Êûê„ÅÆÂà©ÁÇπ</strong>:
1. <strong>È´òÈÄüÂåñ</strong>: Êï∞Áßí„ÄúÊï∞ÂàÜ„ÅßËß£ÊûêÂÆå‰∫ÜÔºà100ÂÄç‰ª•‰∏ä„ÅÆÈ´òÈÄüÂåñÔºâ
2. <strong>ÂÆ¢Ë¶≥ÊÄß</strong>: ÊòéÁ¢∫„Å™„Ç¢„É´„Ç¥„É™„Ç∫„É†„Å´Âü∫„Å•„ÅèÂÜçÁèæÂèØËÉΩ„Å™ÁµêÊûú
3. <strong>‰∏ÄË≤´ÊÄß</strong>: Âêå„Åò„Ç≥„Éº„Éâ„ÅØÂ∏∏„Å´Âêå„ÅòÁµêÊûú„ÇíÂá∫Âäõ
4. <strong>„Çπ„Ç±„Éº„É©„Éì„É™„ÉÜ„Ç£</strong>: 1„Çµ„É≥„Éó„É´„Åß„ÇÇ1‰∏á„Çµ„É≥„Éó„É´„Åß„ÇÇÂêå„ÅòÂä¥Âäõ

<h3>ÊùêÊñô„Ç≠„É£„É©„ÇØ„Çø„É™„Çº„Éº„Ç∑„Éß„É≥ÊäÄË°ì‰∏ÄË¶ß</h3>

‰∏ªË¶Å„Å™Ê∏¨ÂÆöÊäÄË°ì„Å®Âæó„Çâ„Çå„ÇãÊÉÖÂ†±Ôºö

| Ê∏¨ÂÆöÊäÄË°ì | Âæó„Çâ„Çå„ÇãÊÉÖÂ†± | „Éá„Éº„ÇøÂΩ¢Âºè | ÂÖ∏ÂûãÁöÑ„Å™„Éá„Éº„Çø„Çµ„Ç§„Ç∫ |
|---------|------------|----------|-------------------|
| <strong>XRD</strong> | ÁµêÊô∂ÊßãÈÄ†„ÄÅÁõ∏ÂêåÂÆö„ÄÅÁµêÊô∂Â≠ê„Çµ„Ç§„Ç∫ | 1Ê¨°ÂÖÉ„Çπ„Éö„ÇØ„Éà„É´ | Êï∞ÂçÉÁÇπ |
| <strong>XPS</strong> | ÂÖÉÁ¥†ÁµÑÊàê„ÄÅÂåñÂ≠¶Áä∂ÊÖã„ÄÅÈõªÂ≠êÊßãÈÄ† | 1Ê¨°ÂÖÉ„Çπ„Éö„ÇØ„Éà„É´ | Êï∞ÂçÉÁÇπ |
| <strong>SEM/TEM</strong> | ÂΩ¢ÊÖã„ÄÅÁ≤íÂæÑ„ÄÅÁµÑÁπî | 2Ê¨°ÂÖÉÁîªÂÉè | Êï∞Áôæ‰∏áÁîªÁ¥† |
| <strong>IR/Raman</strong> | ÂàÜÂ≠êÊåØÂãï„ÄÅÂÆòËÉΩÂü∫„ÄÅÁµêÊô∂ÊÄß | 1Ê¨°ÂÖÉ„Çπ„Éö„ÇØ„Éà„É´ | Êï∞ÂçÉÁÇπ |
| <strong>UV-Vis</strong> | ÂÖâÂê∏Âèé„ÄÅ„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó | 1Ê¨°ÂÖÉ„Çπ„Éö„ÇØ„Éà„É´ | Êï∞Áôæ„ÄúÊï∞ÂçÉÁÇπ |
| <strong>TGA/DSC</strong> | ÁÜ±ÂÆâÂÆöÊÄß„ÄÅÁõ∏Ëª¢Áßª | 1Ê¨°ÂÖÉÊôÇÁ≥ªÂàó | Êï∞ÂçÉÁÇπ |

<h3>ÂÖ∏ÂûãÁöÑ„Å™Ëß£Êûê„ÉØ„Éº„ÇØ„Éï„É≠„ÉºÔºà5„Çπ„ÉÜ„ÉÉ„ÉóÔºâ</h3>

ÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅØÈÄöÂ∏∏„ÄÅ‰ª•‰∏ã„ÅÆ5„Çπ„ÉÜ„ÉÉ„Éó„ÅßÈÄ≤Ë°å„Åó„Åæ„ÅôÔºö

<div class="mermaid">flowchart LR
    A[1. „Éá„Éº„ÇøË™≠„ÅøËæº„Åø] --> B[2. „Éá„Éº„ÇøÂâçÂá¶ÁêÜ]
    B --> C[3. ÁâπÂæ¥ÊäΩÂá∫]
    C --> D[4. Áµ±Ë®àËß£Êûê/Ê©üÊ¢∞Â≠¶Áøí]
    D --> E[5. ÂèØË¶ñÂåñ„ÉªÂ†±Âëä]
    E --> F[ÁµêÊûú„ÅÆËß£Èáà]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
    style E fill:#fce4ec
    style F fill:#fff9c4</div>

<strong>ÂêÑ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆË©≥Á¥∞</strong>:

1. <strong>„Éá„Éº„ÇøË™≠„ÅøËæº„Åø</strong>: CSV„ÄÅ„ÉÜ„Ç≠„Çπ„Éà„ÄÅ„Éê„Ç§„Éä„É™ÂΩ¢Âºè„Åã„Çâ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄ
2. <strong>„Éá„Éº„ÇøÂâçÂá¶ÁêÜ</strong>: „Éé„Ç§„Ç∫Èô§Âéª„ÄÅÂ§ñ„ÇåÂÄ§Âá¶ÁêÜ„ÄÅÊ®ôÊ∫ñÂåñ
3. <strong>ÁâπÂæ¥ÊäΩÂá∫</strong>: „Éî„Éº„ÇØÊ§úÂá∫„ÄÅËº™ÈÉ≠ÊäΩÂá∫„ÄÅÁµ±Ë®àÈáèË®àÁÆó
4. <strong>Áµ±Ë®àËß£Êûê/Ê©üÊ¢∞Â≠¶Áøí</strong>: ÂõûÂ∏∞„ÄÅÂàÜÈ°û„ÄÅ„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞
5. <strong>ÂèØË¶ñÂåñ„ÉªÂ†±Âëä</strong>: „Ç∞„É©„Éï‰ΩúÊàê„ÄÅ„É¨„Éù„Éº„ÉàÁîüÊàê

Êú¨Á´†„Åß„ÅØ„ÄÅ<strong>„Çπ„ÉÜ„ÉÉ„Éó2Ôºà„Éá„Éº„ÇøÂâçÂá¶ÁêÜÔºâ</strong>„Å´ÁÑ¶ÁÇπ„ÇíÂΩì„Å¶„Åæ„Åô„ÄÇ

---

<h2>1.2 „Éá„Éº„ÇøÂâçÂá¶ÁêÜ„ÅÆÂü∫Á§é</h2>

<h3>„Éá„Éº„ÇøË™≠„ÅøËæº„Åø</h3>

„Åæ„Åö„ÄÅÊßò„ÄÖ„Å™ÂΩ¢Âºè„ÅÆÂÆüÈ®ì„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄÊñπÊ≥ï„ÇíÂ≠¶„Å≥„Åæ„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã1: CSV„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„ÅøÔºàXRD„Éë„Çø„Éº„É≥Ôºâ</strong>

<pre><code class="language-python"><h1>XRD„Éë„Çø„Éº„É≥„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø</h1>
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

<h1>CSV„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÔºà2Œ∏, intensityÔºâ</h1>
<h1>„Çµ„É≥„Éó„É´„Éá„Éº„Çø„ÅÆ‰ΩúÊàê</h1>
np.random.seed(42)
two_theta = np.linspace(10, 80, 700)  # 2Œ∏ÁØÑÂõ≤: 10-80Â∫¶
intensity = (
    1000 * np.exp(-((two_theta - 28) ** 2) / 10) +  # „Éî„Éº„ÇØ1
    1500 * np.exp(-((two_theta - 32) ** 2) / 8) +   # „Éî„Éº„ÇØ2
    800 * np.exp(-((two_theta - 47) ** 2) / 12) +   # „Éî„Éº„ÇØ3
    np.random.normal(0, 50, len(two_theta))          # „Éé„Ç§„Ç∫
)

<h1>DataFrame„Å´Ê†ºÁ¥ç</h1>
df = pd.DataFrame({
    'two_theta': two_theta,
    'intensity': intensity
})

<h1>Âü∫Êú¨Áµ±Ë®àÈáè„ÅÆÁ¢∫Ë™ç</h1>
print("=== „Éá„Éº„ÇøÂü∫Êú¨Áµ±Ë®à ===")
print(df.describe())

<h1>„Éá„Éº„Çø„ÅÆÂèØË¶ñÂåñ</h1>
plt.figure(figsize=(10, 5))
plt.plot(df['two_theta'], df['intensity'], linewidth=1)
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity (counts)')
plt.title('Raw XRD Pattern')
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()

print(f"\n„Éá„Éº„ÇøÁÇπÊï∞: {len(df)}")
print(f"2Œ∏ÁØÑÂõ≤: {df['two_theta'].min():.1f} - {df['two_theta'].max():.1f}¬∞")
print(f"Âº∑Â∫¶ÁØÑÂõ≤: {df['intensity'].min():.1f} - {df['intensity'].max():.1f}")</code></pre>

<strong>Âá∫Âäõ</strong>:
<pre><code>=== „Éá„Éº„ÇøÂü∫Êú¨Áµ±Ë®à ===
         two_theta    intensity
count   700.000000   700.000000
mean     45.000000   351.893421
std      20.219545   480.523106
min      10.000000  -123.456789
25%      27.500000    38.901234
50%      45.000000   157.345678
75%      62.500000   401.234567
max      80.000000  1523.456789

„Éá„Éº„ÇøÁÇπÊï∞: 700
2Œ∏ÁØÑÂõ≤: 10.0 - 80.0¬∞
Âº∑Â∫¶ÁØÑÂõ≤: -123.5 - 1523.5</code></pre>

<h3>„Éá„Éº„ÇøÊßãÈÄ†„ÅÆÁêÜËß£„Å®Êï¥ÂΩ¢</h3>

<strong>„Ç≥„Éº„Éâ‰æã2: „Éá„Éº„Çø„ÅÆÊßãÈÄ†Á¢∫Ë™ç„Å®Êï¥ÂΩ¢</strong>

<pre><code class="language-python"><h1>„Éá„Éº„ÇøÊßãÈÄ†„ÅÆÁ¢∫Ë™ç</h1>
print("=== „Éá„Éº„ÇøÊßãÈÄ† ===")
print(f"„Éá„Éº„ÇøÂûã:\n{df.dtypes}\n")
print(f"Ê¨†ÊêçÂÄ§:\n{df.isnull().sum()}\n")
print(f"ÈáçË§áË°å: {df.duplicated().sum()}")

<h1>Ê¨†ÊêçÂÄ§„ÇíÂê´„ÇÄ„Éá„Éº„Çø„ÅÆ‰æã</h1>
df_with_nan = df.copy()
df_with_nan.loc[100:105, 'intensity'] = np.nan  # Ê¨†ÊêçÂÄ§„ÇíÊÑèÂõ≥ÁöÑ„Å´ÊåøÂÖ•

print("\n=== Ê¨†ÊêçÂÄ§Âá¶ÁêÜ ===")
print(f"Ê¨†ÊêçÂÄ§„ÅÆÊï∞: {df_with_nan['intensity'].isnull().sum()}")

<h1>Ê¨†ÊêçÂÄ§„ÅÆË£úÈñìÔºàÁ∑öÂΩ¢Ë£úÈñìÔºâ</h1>
df_with_nan['intensity_interpolated'] = df_with_nan['intensity'].interpolate(method='linear')

<h1>ÂâçÂæå„ÅÆÂÄ§„ÅßÁ¢∫Ë™ç</h1>
print("\nÊ¨†ÊêçÂÄ§„ÅÆÂâçÂæå:")
print(df_with_nan.iloc[98:108][['two_theta', 'intensity', 'intensity_interpolated']])</code></pre>

<h3>Ê¨†ÊêçÂÄ§„ÉªÁï∞Â∏∏ÂÄ§„ÅÆÊ§úÂá∫„Å®Âá¶ÁêÜ</h3>

<strong>„Ç≥„Éº„Éâ‰æã3: Áï∞Â∏∏ÂÄ§„ÅÆÊ§úÂá∫</strong>

<pre><code class="language-python">from scipy import stats

<h1>Ë≤†„ÅÆÂº∑Â∫¶ÂÄ§„ÅØÁâ©ÁêÜÁöÑ„Å´„ÅÇ„Çä„Åà„Å™„ÅÑÔºàÁï∞Â∏∏ÂÄ§Ôºâ</h1>
negative_mask = df['intensity'] < 0
print(f"Ë≤†„ÅÆÂº∑Â∫¶ÂÄ§„ÅÆÊï∞: {negative_mask.sum()} / {len(df)}")

<h1>Ë≤†„ÅÆÂÄ§„Çí0„Å´ÁΩÆ„ÅçÊèõ„Åà</h1>
df_cleaned = df.copy()
df_cleaned.loc[negative_mask, 'intensity'] = 0

<h1>ÂèØË¶ñÂåñ</h1>
fig, axes = plt.subplots(1, 2, figsize=(12, 4))

axes[0].plot(df['two_theta'], df['intensity'], label='Raw', alpha=0.7)
axes[0].axhline(y=0, color='r', linestyle='--', label='Zero line')
axes[0].set_xlabel('2Œ∏ (degree)')
axes[0].set_ylabel('Intensity')
axes[0].set_title('Raw Data (with negative values)')
axes[0].legend()
axes[0].grid(True, alpha=0.3)

axes[1].plot(df_cleaned['two_theta'], df_cleaned['intensity'], label='Cleaned', color='green')
axes[1].axhline(y=0, color='r', linestyle='--', label='Zero line')
axes[1].set_xlabel('2Œ∏ (degree)')
axes[1].set_ylabel('Intensity')
axes[1].set_title('Cleaned Data (negatives removed)')
axes[1].legend()
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()</code></pre>

---

<h2>1.3 „Éé„Ç§„Ç∫Èô§ÂéªÊâãÊ≥ï</h2>

ÂÆüÈ®ì„Éá„Éº„Çø„Å´„ÅØÂøÖ„Åö„Éé„Ç§„Ç∫„ÅåÂê´„Åæ„Çå„Åæ„Åô„ÄÇ„Éé„Ç§„Ç∫Èô§Âéª„ÅØ„ÄÅ‰ø°Âè∑ÂØæÈõëÈü≥ÊØîÔºàS/NÊØîÔºâ„ÇíÂêë‰∏ä„Åï„Åõ„ÄÅÂæåÁ∂ö„ÅÆËß£ÊûêÁ≤æÂ∫¶„ÇíÈ´ò„ÇÅ„Åæ„Åô„ÄÇ

<h3>ÁßªÂãïÂπ≥Âùá„Éï„Ç£„É´„Çø</h3>

ÊúÄ„ÇÇ„Ç∑„É≥„Éó„É´„Å™„Éé„Ç§„Ç∫Èô§ÂéªÊâãÊ≥ï„Åß„Åô„ÄÇÂêÑ„Éá„Éº„ÇøÁÇπ„Çí„ÄÅ„Åù„ÅÆÂë®Ëæ∫„ÅÆÂπ≥ÂùáÂÄ§„ÅßÁΩÆ„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã4: ÁßªÂãïÂπ≥Âùá„Éï„Ç£„É´„Çø</strong>

<pre><code class="language-python">from scipy.ndimage import uniform_filter1d

<h1>ÁßªÂãïÂπ≥Âùá„Éï„Ç£„É´„Çø„ÅÆÈÅ©Áî®</h1>
window_sizes = [5, 11, 21]

plt.figure(figsize=(12, 8))

<h1>ÂÖÉ„Éá„Éº„Çø</h1>
plt.subplot(2, 2, 1)
plt.plot(df_cleaned['two_theta'], df_cleaned['intensity'], linewidth=1)
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('Original Data')
plt.grid(True, alpha=0.3)

<h1>Áï∞„Å™„Çã„Ç¶„Ç£„É≥„Éâ„Ç¶„Çµ„Ç§„Ç∫„ÅÆÁßªÂãïÂπ≥Âùá</h1>
for i, window_size in enumerate(window_sizes, start=2):
    smoothed = uniform_filter1d(df_cleaned['intensity'].values, size=window_size)

    plt.subplot(2, 2, i)
    plt.plot(df_cleaned['two_theta'], smoothed, linewidth=1.5)
    plt.xlabel('2Œ∏ (degree)')
    plt.ylabel('Intensity')
    plt.title(f'Moving Average (window={window_size})')
    plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

<h1>„Éé„Ç§„Ç∫Èô§ÂéªÂäπÊûú„ÅÆÂÆöÈáèË©ï‰æ°</h1>
print("=== „Éé„Ç§„Ç∫Èô§ÂéªÂäπÊûú ===")
original_std = np.std(df_cleaned['intensity'].values)
for window_size in window_sizes:
    smoothed = uniform_filter1d(df_cleaned['intensity'].values, size=window_size)
    smoothed_std = np.std(smoothed)
    noise_reduction = (1 - smoothed_std / original_std) * 100
    print(f"Window={window_size:2d}: „Éé„Ç§„Ç∫ÂâäÊ∏õ {noise_reduction:.1f}%")</code></pre>

<strong>Âá∫Âäõ</strong>:
<pre><code>=== „Éé„Ç§„Ç∫Èô§ÂéªÂäπÊûú ===
Window= 5: „Éé„Ç§„Ç∫ÂâäÊ∏õ 15.2%
Window=11: „Éé„Ç§„Ç∫ÂâäÊ∏õ 28.5%
Window=21: „Éé„Ç§„Ç∫ÂâäÊ∏õ 41.3%</code></pre>

<strong>‰Ωø„ÅÑÂàÜ„Åë„Ç¨„Ç§„Éâ</strong>:
- <strong>Â∞è„Åï„ÅÑ„Ç¶„Ç£„É≥„Éâ„Ç¶Ôºà3-5Ôºâ</strong>: „Éé„Ç§„Ç∫„ÅØÊÆã„Çã„Åå„ÄÅ„Éî„Éº„ÇØÂΩ¢Áä∂„Çí‰øùÊåÅ
- <strong>‰∏≠Á®ãÂ∫¶„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶Ôºà7-15Ôºâ</strong>: „Éê„É©„É≥„ÇπËâØÂ•Ω„ÄÅÊé®Â•®
- <strong>Â§ß„Åç„ÅÑ„Ç¶„Ç£„É≥„Éâ„Ç¶Ôºà>20Ôºâ</strong>: „Éé„Ç§„Ç∫Èô§Âéª„ÅØÂº∑Âäõ„Å†„Åå„ÄÅ„Éî„Éº„ÇØ„ÅåÂ∫É„Åå„Çã

<h3>Savitzky-Golay „Éï„Ç£„É´„Çø</h3>

ÁßªÂãïÂπ≥Âùá„Çà„Çä„ÇÇÈ´òÂ∫¶„Å™ÊâãÊ≥ï„Åß„ÄÅ„Éî„Éº„ÇØÂΩ¢Áä∂„Çí‰øùÊåÅ„Åó„Å™„Åå„Çâ„Éé„Ç§„Ç∫„ÇíÈô§Âéª„Åß„Åç„Åæ„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã5: Savitzky-Golay „Éï„Ç£„É´„Çø</strong>

<pre><code class="language-python">from scipy.signal import savgol_filter

<h1>Savitzky-Golay „Éï„Ç£„É´„Çø„ÅÆÈÅ©Áî®</h1>
window_length = 11  # Â•áÊï∞„Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã
polyorder = 3       # Â§öÈ†ÖÂºè„ÅÆÊ¨°Êï∞

sg_smoothed = savgol_filter(df_cleaned['intensity'].values, window_length, polyorder)

<h1>ÁßªÂãïÂπ≥Âùá„Å®„ÅÆÊØîËºÉ</h1>
ma_smoothed = uniform_filter1d(df_cleaned['intensity'].values, size=window_length)

plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
plt.plot(df_cleaned['two_theta'], df_cleaned['intensity'],
         label='Original', alpha=0.5, linewidth=1)
plt.plot(df_cleaned['two_theta'], ma_smoothed,
         label='Moving Average', linewidth=1.5)
plt.plot(df_cleaned['two_theta'], sg_smoothed,
         label='Savitzky-Golay', linewidth=1.5)
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('Comparison of Smoothing Methods')
plt.legend()
plt.grid(True, alpha=0.3)

<h1>„Éî„Éº„ÇØÈÉ®ÂàÜ„ÅÆÊã°Â§ß</h1>
plt.subplot(1, 2, 2)
peak_region = (df_cleaned['two_theta'] > 26) & (df_cleaned['two_theta'] < 34)
plt.plot(df_cleaned.loc[peak_region, 'two_theta'],
         df_cleaned.loc[peak_region, 'intensity'],
         label='Original', alpha=0.5, linewidth=1)
plt.plot(df_cleaned.loc[peak_region, 'two_theta'],
         ma_smoothed[peak_region],
         label='Moving Average', linewidth=1.5)
plt.plot(df_cleaned.loc[peak_region, 'two_theta'],
         sg_smoothed[peak_region],
         label='Savitzky-Golay', linewidth=1.5)
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('Zoomed: Peak Region')
plt.legend()
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== Savitzky-Golay „Éë„É©„É°„Éº„Çø ===")
print(f"Window length: {window_length}")
print(f"Polynomial order: {polyorder}")
print(f"\nÊé®Â•®Ë®≠ÂÆö:")
print("- „Éé„Ç§„Ç∫„ÅåÂ§ö„ÅÑ: window_length=11-21, polyorder=2-3")
print("- „Éé„Ç§„Ç∫„ÅåÂ∞ë„Å™„ÅÑ: window_length=5-11, polyorder=2-4")</code></pre>

<strong>Savitzky-Golay „Éï„Ç£„É´„Çø„ÅÆÂà©ÁÇπ</strong>:
- „Éî„Éº„ÇØ„ÅÆÈ´ò„Åï„Å®‰ΩçÁΩÆ„Çí„Çà„ÇäÊ≠£Á¢∫„Å´‰øùÊåÅ
- „Ç®„ÉÉ„Ç∏ÔºàÊÄ•Â≥ª„Å™Â§âÂåñÔºâ„ÇíÊªë„Çâ„Åã„Å´„Åó„Åô„Åé„Å™„ÅÑ
- ÂæÆÂàÜË®àÁÆó„Å®„ÅÆÁõ∏ÊÄß„ÅåËâØ„ÅÑÔºàÂæå„ÅÆ„Éî„Éº„ÇØÊ§úÂá∫„ÅßÊúâÁî®Ôºâ

<h3>„Ç¨„Ç¶„Ç∑„Ç¢„É≥„Éï„Ç£„É´„Çø</h3>

ÁîªÂÉèÂá¶ÁêÜ„ÅßÂ∫É„Åè‰Ωø„Çè„Çå„ÇãÊâãÊ≥ï„Åß„Åô„Åå„ÄÅ1Ê¨°ÂÖÉ„Éá„Éº„Çø„Å´„ÇÇÈÅ©Áî®ÂèØËÉΩ„Åß„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã6: „Ç¨„Ç¶„Ç∑„Ç¢„É≥„Éï„Ç£„É´„Çø</strong>

<pre><code class="language-python">from scipy.ndimage import gaussian_filter1d

<h1>„Ç¨„Ç¶„Ç∑„Ç¢„É≥„Éï„Ç£„É´„Çø„ÅÆÈÅ©Áî®</h1>
sigma_values = [1, 2, 4]  # Ê®ôÊ∫ñÂÅèÂ∑Æ

plt.figure(figsize=(12, 8))

plt.subplot(2, 2, 1)
plt.plot(df_cleaned['two_theta'], df_cleaned['intensity'], linewidth=1)
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('Original Data')
plt.grid(True, alpha=0.3)

for i, sigma in enumerate(sigma_values, start=2):
    gaussian_smoothed = gaussian_filter1d(df_cleaned['intensity'].values, sigma=sigma)

    plt.subplot(2, 2, i)
    plt.plot(df_cleaned['two_theta'], gaussian_smoothed, linewidth=1.5)
    plt.xlabel('2Œ∏ (degree)')
    plt.ylabel('Intensity')
    plt.title(f'Gaussian Filter (œÉ={sigma})')
    plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()</code></pre>

<h3>ÈÅ©Âàá„Å™„Éï„Ç£„É´„Çø„ÅÆÈÅ∏Êäû</h3>

<div class="mermaid">flowchart TD
    Start[„Éé„Ç§„Ç∫Èô§Âéª„ÅåÂøÖË¶Å] --> Q1{„Éî„Éº„ÇØÂΩ¢Áä∂„ÅÆ‰øùÊåÅ„ÅØÈáçË¶Å?}
    Q1 -->|ÈùûÂ∏∏„Å´ÈáçË¶Å| SG[Savitzky-Golay]
    Q1 -->|„ÇÑ„ÇÑÈáçË¶Å| Gauss[Gaussian]
    Q1 -->|„Åù„Çå„Åª„Å©ÈáçË¶Å„Åß„Å™„ÅÑ| MA[Moving Average]

    SG --> Param1[window=11-21<br/>polyorder=2-3]
    Gauss --> Param2[sigma=1-3]
    MA --> Param3[window=7-15]

    style Start fill:#4CAF50,color:#fff
    style SG fill:#2196F3,color:#fff
    style Gauss fill:#FF9800,color:#fff
    style MA fill:#9C27B0,color:#fff</div>

---

<h2>1.4 Â§ñ„ÇåÂÄ§Ê§úÂá∫</h2>

Â§ñ„ÇåÂÄ§ÔºàoutlierÔºâ„ÅØ„ÄÅÊ∏¨ÂÆö„Ç®„É©„Éº„ÄÅË£ÖÁΩÆ„ÅÆ‰∏çË™ø„ÄÅ„Çµ„É≥„Éó„É´Ê±öÊüì„Å™„Å©„Å´„Çà„ÇäÁô∫Áîü„Åó„Åæ„Åô„ÄÇÈÅ©Âàá„Å´Ê§úÂá∫„ÉªÂá¶ÁêÜ„Åó„Å™„ÅÑ„Å®„ÄÅËß£ÊûêÁµêÊûú„Å´ÈáçÂ§ß„Å™ÂΩ±Èüø„ÇíÂèä„Åº„Åó„Åæ„Åô„ÄÇ

<h3>Z-score Ê≥ï</h3>

Áµ±Ë®àÁöÑ„Å´„ÄåÂπ≥Âùá„Åã„ÇâÊ®ôÊ∫ñÂÅèÂ∑Æ„ÅÆ‚óãÂÄç‰ª•‰∏äÈõ¢„Çå„Å¶„ÅÑ„Çã„Äç„Éá„Éº„Çø„ÇíÂ§ñ„ÇåÂÄ§„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã7: Z-score „Å´„Çà„ÇãÂ§ñ„ÇåÂÄ§Ê§úÂá∫</strong>

<pre><code class="language-python">from scipy import stats

<h1>Â§ñ„ÇåÂÄ§„ÇíÂê´„ÇÄ„Çµ„É≥„Éó„É´„Éá„Éº„Çø</h1>
data_with_outliers = df_cleaned['intensity'].copy()
<h1>ÊÑèÂõ≥ÁöÑ„Å´Â§ñ„ÇåÂÄ§„ÇíËøΩÂä†</h1>
outlier_indices = [50, 150, 350, 550]
data_with_outliers.iloc[outlier_indices] = [3000, -500, 4000, 3500]

<h1>Z-scoreË®àÁÆó</h1>
z_scores = np.abs(stats.zscore(data_with_outliers))
threshold = 3  # 3œÉ„ÇíË∂Ö„Åà„Çã„ÇÇ„ÅÆ„ÇíÂ§ñ„ÇåÂÄ§„Å®„Åô„Çã

outliers = z_scores > threshold

print(f"=== Z-score Â§ñ„ÇåÂÄ§Ê§úÂá∫ ===")
print(f"Â§ñ„ÇåÂÄ§„ÅÆÊï∞: {outliers.sum()} / {len(data_with_outliers)}")
print(f"Â§ñ„ÇåÂÄ§„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ: {np.where(outliers)[0]}")

<h1>ÂèØË¶ñÂåñ</h1>
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
plt.plot(df_cleaned['two_theta'], data_with_outliers, label='Data with outliers')
plt.scatter(df_cleaned['two_theta'][outliers], data_with_outliers[outliers],
            color='red', s=100, zorder=5, label='Detected outliers')
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('Outlier Detection (Z-score method)')
plt.legend()
plt.grid(True, alpha=0.3)

<h1>Â§ñ„ÇåÂÄ§Èô§ÂéªÂæå</h1>
data_cleaned = data_with_outliers.copy()
data_cleaned[outliers] = np.nan
data_cleaned = data_cleaned.interpolate(method='linear')

plt.subplot(1, 2, 2)
plt.plot(df_cleaned['two_theta'], data_cleaned, color='green', label='Cleaned data')
plt.xlabel('2Œ∏ (degree)')
plt.ylabel('Intensity')
plt.title('After Outlier Removal')
plt.legend()
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()</code></pre>

<h3>IQRÔºàÂõõÂàÜ‰ΩçÁØÑÂõ≤ÔºâÊ≥ï</h3>

‰∏≠Â§ÆÂÄ§„Éô„Éº„Çπ„ÅÆÈ†ëÂÅ•„Å™ÊâãÊ≥ï„Åß„ÄÅÊ≠£Ë¶èÂàÜÂ∏É„Åß„Å™„ÅÑ„Éá„Éº„Çø„Å´„ÇÇÈÅ©Áî®ÂèØËÉΩ„Åß„Åô„ÄÇ

<strong>„Ç≥„Éº„Éâ‰æã8: IQR Ê≥ï</strong>

<pre><code class="language-python"><h1>IQRÊ≥ï„Å´„Çà„ÇãÂ§ñ„ÇåÂÄ§Ê§úÂá∫</h1>
Q1 = data_with_outliers.quantile(0.25)
Q3 = data_with_outliers.quantile(0.75)
IQR = Q3 - Q1

<h1>Â§ñ„ÇåÂÄ§„ÅÆÂÆöÁæ©: Q1 - 1.5*IQR Êú™Ê∫Ä„ÄÅ„Åæ„Åü„ÅØ Q3 + 1.5*IQR Ë∂Ö</h1>
lower_bound = Q1 - 1.5 * IQR
upper_bound = Q3 + 1.5 * IQR

outliers_iqr = (data_with_outliers < lower_bound) | (data_with_outliers > upper_bound)

print(f"=== IQR Â§ñ„ÇåÂÄ§Ê§úÂá∫ ===")
print(f"Q1: {Q1:.1f}")
print(f"Q3: {Q3:.1f}")
print(f"IQR: {IQR:.1f}")
print(f"‰∏ãÈôê: {lower_bound:.1f}")
print(f"‰∏äÈôê: {upper_bound:.1f}")
print(f"Â§ñ„ÇåÂÄ§„ÅÆÊï∞: {outliers_iqr.sum()} / {len(data_with_outliers)}")

<h1>ÁÆ±„Å≤„ÅíÂõ≥„ÅßÂèØË¶ñÂåñ</h1>
fig, axes = plt.subplots(1, 2, figsize=(12, 5))

axes[0].boxplot(data_with_outliers.dropna(), vert=True)
axes[0].set_ylabel('Intensity')
axes[0].set_title('Box Plot (outliers visible)')
axes[0].grid(True, alpha=0.3)

<h1>Â§ñ„ÇåÂÄ§Èô§ÂéªÂæå</h1>
data_cleaned_iqr = data_with_outliers.copy()
data_cleaned_iqr[outliers_iqr] = np.nan
data_cleaned_iqr = data_cleaned_iqr.interpolate(method='linear')

axes[1].boxplot(data_cleaned_iqr.dropna(), vert=True)
axes[1].set_ylabel('Intensity')
axes[1].set_title('Box Plot (after outlier removal)')
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()</code></pre>

<strong>Z-score vs IQR „ÅÆ‰Ωø„ÅÑÂàÜ„Åë</strong>:
- <strong>Z-scoreÊ≥ï</strong>: „Éá„Éº„Çø„ÅåÊ≠£Ë¶èÂàÜÂ∏É„Å´Ëøë„ÅÑÂ†¥Âêà„Å´ÊúâÂäπ„ÄÅË®àÁÆó„ÅåÁ∞°Âçò
- <strong>IQRÊ≥ï</strong>: ÈùûÊ≠£Ë¶èÂàÜÂ∏É„Åß„ÇÇÈ†ëÂÅ•„ÄÅÊ•µÁ´Ø„Å™Â§ñ„ÇåÂÄ§„Å´Âº∑„ÅÑ

---

<h2>1.5 Ê®ôÊ∫ñÂåñ„ÉªÊ≠£Ë¶èÂåñ</h2>

Áï∞„Å™„Çã„Çπ„Ç±„Éº„É´„ÅÆ„Éá„Éº„Çø„ÇíÊØîËºÉÂèØËÉΩ„Å´„Åô„Çã„Åü„ÇÅ„ÄÅÊ®ôÊ∫ñÂåñ„ÉªÊ≠£Ë¶èÂåñ„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ

<h3>Min-Max „Çπ„Ç±„Éº„É™„É≥„Ç∞</h3>

„Éá„Éº„Çø„Çí[0, 1]„ÅÆÁØÑÂõ≤„Å´Â§âÊèõ„Åó„Åæ„Åô„ÄÇ

$$
X_{\text{normalized}} = \frac{X - X_{\min}}{X_{\max} - X_{\min}}
$$

<h3>Z-score Ê®ôÊ∫ñÂåñ</h3>

Âπ≥Âùá0„ÄÅÊ®ôÊ∫ñÂÅèÂ∑Æ1„Å´Â§âÊèõ„Åó„Åæ„Åô„ÄÇ

$$
X_{\text{standardized}} = \frac{X - \mu}{\sigma}
$$

<h3>„Éô„Éº„Çπ„É©„Ç§„É≥Ë£úÊ≠£</h3>

„Çπ„Éö„ÇØ„Éà„É´„Éá„Éº„Çø„Åß„ÄÅ„Éê„ÉÉ„ÇØ„Ç∞„É©„Ç¶„É≥„Éâ„ÇíÈô§Âéª„Åó„Åæ„Åô„ÄÇ

<strong>ÂÆüË£Ö„ÅØÁ¨¨2Á´†„ÅßË©≥Ëø∞</strong>

---

<h2>1.6 Êú¨Á´†„ÅÆ„Åæ„Å®„ÇÅ</h2>

<h3>Â≠¶„Çì„Å†„Åì„Å®</h3>

1. <strong>ÂÆüÈ®ì„Éá„Éº„ÇøËß£Êûê„ÅÆ„ÉØ„Éº„ÇØ„Éï„É≠„Éº</strong>
   - „Éá„Éº„ÇøË™≠„ÅøËæº„Åø ‚Üí ÂâçÂá¶ÁêÜ ‚Üí ÁâπÂæ¥ÊäΩÂá∫ ‚Üí Ëß£Êûê ‚Üí ÂèØË¶ñÂåñ
   - ÂâçÂá¶ÁêÜ„ÅÆÈáçË¶ÅÊÄß„Å®ÂΩ±Èüø

2. <strong>„Éé„Ç§„Ç∫Èô§ÂéªÊâãÊ≥ï</strong>
   - ÁßªÂãïÂπ≥Âùá„ÄÅSavitzky-Golay„ÄÅ„Ç¨„Ç¶„Ç∑„Ç¢„É≥„Éï„Ç£„É´„Çø
   - ÈÅ©Âàá„Å™ÊâãÊ≥ï„ÅÆÈÅ∏ÊäûÂü∫Ê∫ñ

3. <strong>Â§ñ„ÇåÂÄ§Ê§úÂá∫</strong>
   - Z-scoreÊ≥ï„ÄÅIQRÊ≥ï
   - Áâ©ÁêÜÁöÑÂ¶•ÂΩìÊÄß„ÉÅ„Çß„ÉÉ„ÇØ

4. <strong>Ê®ôÊ∫ñÂåñ„ÉªÊ≠£Ë¶èÂåñ</strong>
   - Min-Max„Çπ„Ç±„Éº„É™„É≥„Ç∞„ÄÅZ-scoreÊ®ôÊ∫ñÂåñ
   - ‰Ωø„ÅÑÂàÜ„Åë„ÅÆÂéüÂâá

<h3>ÈáçË¶Å„Å™„Éù„Ç§„É≥„Éà</h3>

- ‚úÖ ÂâçÂá¶ÁêÜ„ÅØ„Éá„Éº„ÇøËß£Êûê„ÅÆÊàêÂê¶„ÇíÂ∑¶Âè≥„Åô„ÇãÊúÄÈáçË¶Å„Çπ„ÉÜ„ÉÉ„Éó
- ‚úÖ „Éé„Ç§„Ç∫Èô§Âéª„Åß„ÅØ„ÄÅ„Éî„Éº„ÇØÂΩ¢Áä∂‰øùÊåÅ„Å®„Éé„Ç§„Ç∫ÂâäÊ∏õ„ÅÆ„Éê„É©„É≥„Çπ„ÅåÈáçË¶Å
- ‚úÖ Â§ñ„ÇåÂÄ§„ÅØÂøÖ„ÅöÁ¢∫Ë™ç„Åó„ÄÅÁâ©ÁêÜÁöÑÂ¶•ÂΩìÊÄß„ÇíÊ§úË®º„Åô„Çã
- ‚úÖ ÂèØË¶ñÂåñ„Å´„Çà„Çä„ÄÅÂêÑÂá¶ÁêÜ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆÂäπÊûú„ÇíÁ¢∫Ë™ç„Åô„Çã

<h3>Ê¨°„ÅÆÁ´†„Å∏</h3>

Á¨¨2Á´†„Åß„ÅØ„ÄÅ„Çπ„Éö„ÇØ„Éà„É´„Éá„Éº„ÇøÔºàXRD„ÄÅXPS„ÄÅIR„ÄÅRamanÔºâ„ÅÆËß£ÊûêÊâãÊ≥ï„ÇíÂ≠¶„Å≥„Åæ„ÅôÔºö
- „Éî„Éº„ÇØÊ§úÂá∫„Ç¢„É´„Ç¥„É™„Ç∫„É†
- „Éê„ÉÉ„ÇØ„Ç∞„É©„Ç¶„É≥„ÉâÈô§Âéª
- ÂÆöÈáèÂàÜÊûê
- Ê©üÊ¢∞Â≠¶Áøí„Å´„Çà„ÇãÊùêÊñôÂêåÂÆö

<strong>[Á¨¨2Á´†Ôºö„Çπ„Éö„ÇØ„Éà„É´„Éá„Éº„ÇøËß£Êûê ‚Üí](./chapter-2.md)</strong>

---

<h2>ÊºîÁøíÂïèÈ°å</h2>

<h3>ÂïèÈ°å1ÔºàÈõ£ÊòìÂ∫¶ÔºöeasyÔºâ</h3>

Ê¨°„ÅÆÊñáÁ´†„ÅÆÊ≠£Ë™§„ÇíÂà§ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

1. ÁßªÂãïÂπ≥Âùá„Éï„Ç£„É´„Çø„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶„Çµ„Ç§„Ç∫„ÇíÂ§ß„Åç„Åè„Åô„Çã„Å®„ÄÅ„Éé„Ç§„Ç∫Èô§ÂéªÂäπÊûú„ÅåÈ´ò„Åæ„Çã„Åå„ÄÅ„Éî„Éº„ÇØ„ÅåÂ∫É„Åå„Çã
2. Savitzky-Golay„Éï„Ç£„É´„Çø„ÅØÁßªÂãïÂπ≥Âùá„Çà„Çä„ÇÇ„Éî„Éº„ÇØÂΩ¢Áä∂„Çí‰øùÊåÅ„Åô„Çã
3. Z-scoreÊ≥ï„ÅØÈùûÊ≠£Ë¶èÂàÜÂ∏É„ÅÆ„Éá„Éº„Çø„Å´„ÅØÈÅ©Áî®„Åß„Åç„Å™„ÅÑ

<details>
<summary>„Éí„É≥„Éà</summary>

1. „Ç¶„Ç£„É≥„Éâ„Ç¶„Çµ„Ç§„Ç∫„Å®„Éé„Ç§„Ç∫Èô§ÂéªÂäπÊûú„ÄÅ„Éî„Éº„ÇØÂΩ¢Áä∂„ÅÆÈñ¢‰øÇ„ÇíËÄÉ„Åà„Çã
2. ‰∏°ÊâãÊ≥ï„ÅÆÊï∞Â≠¶ÁöÑ„Å™ÈÅï„ÅÑ„ÇíÊÄù„ÅÑÂá∫„Åô
3. Z-score„ÅÆÂÆöÁæ©„Å®„ÄÅÈùûÊ≠£Ë¶èÂàÜÂ∏É„Åß„ÅÆÊåôÂãï„ÇíËÄÉ„Åà„Çã

</details>

<details>
<summary>Ëß£Á≠î‰æã</summary>

<strong>Ëß£Á≠î</strong>:
1. <strong>Ê≠£</strong> - Â§ß„Åç„ÅÑ„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅØ„Çà„ÇäÂ§ö„Åè„ÅÆÁÇπ„ÇíÂπ≥Âùá„Åô„Çã„Åü„ÇÅ„ÄÅ„Éé„Ç§„Ç∫„ÅØÊ∏õ„Çã„Åå„Éî„Éº„ÇØ„ÇÇÂπ≥ÊªëÂåñ„Åï„Çå„Çã
2. <strong>Ê≠£</strong> - Savitzky-Golay„ÅØÂ§öÈ†ÖÂºè„Éï„Ç£„ÉÉ„ÉÜ„Ç£„É≥„Ç∞„Çí‰Ωø„ÅÜ„Åü„ÇÅ„ÄÅÊÄ•Â≥ª„Å™Â§âÂåñ„Çí‰øùÊåÅ„Åó„ÇÑ„Åô„ÅÑ
3. <strong>Ë™§</strong> - Z-score„ÅØË®àÁÆóÂèØËÉΩ„Å†„Åå„ÄÅ3œÉ„É´„Éº„É´„ÅÆËß£Èáà„ÅØÊ≠£Ë¶èÂàÜÂ∏É„Çí‰ªÆÂÆö„Åó„Å¶„ÅÑ„Çã„ÄÇÈùûÊ≠£Ë¶èÂàÜÂ∏É„Åß„ÅØIQRÊ≥ï„ÅåÊé®Â•®„Åï„Çå„Çã

<strong>Ëß£Ë™¨</strong>:
„Éé„Ç§„Ç∫Èô§Âéª„ÅØÂ∏∏„Å´„Éà„É¨„Éº„Éâ„Ç™„Éï„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Éé„Ç§„Ç∫„ÇíÂÆåÂÖ®„Å´Èô§Âéª„Åó„Çà„ÅÜ„Å®„Åô„Çã„Å®„ÄÅ‰ø°Âè∑„ÇÇÊ≠™„Åø„Åæ„Åô„ÄÇÂÆüÈ®ì„Éá„Éº„Çø„ÅÆÁâπÊÄßÔºà„Éé„Ç§„Ç∫„É¨„Éô„É´„ÄÅ„Éî„Éº„ÇØ„ÅÆÈã≠„ÅïÔºâ„Å´Âøú„Åò„Å¶„ÄÅÈÅ©Âàá„Å™„Éë„É©„É°„Éº„Çø„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„ÅåÈáçË¶Å„Åß„Åô„ÄÇ

</details>

---

<h3>ÂïèÈ°å2ÔºàÈõ£ÊòìÂ∫¶ÔºömediumÔºâ</h3>

‰ª•‰∏ã„ÅÆXRD„Éá„Éº„ÇøÔºà„Çµ„É≥„Éó„É´Ôºâ„Å´ÂØæ„Åó„Å¶„ÄÅÈÅ©Âàá„Å™ÂâçÂá¶ÁêÜ„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíÊßãÁØâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

<pre><code class="language-python"><h1>„Çµ„É≥„Éó„É´„Éá„Éº„Çø</h1>
import numpy as np
import pandas as pd

np.random.seed(100)
two_theta = np.linspace(20, 60, 400)
intensity = (
    800 * np.exp(-((two_theta - 30) ** 2) / 8) +
    1200 * np.exp(-((two_theta - 45) ** 2) / 6) +
    np.random.normal(0, 100, len(two_theta))
)
<h1>Â§ñ„ÇåÂÄ§„ÇíËøΩÂä†</h1>
intensity[50] = 3000
intensity[200] = -500

df = pd.DataFrame({'two_theta': two_theta, 'intensity': intensity})</code></pre>

<strong>Ë¶ÅÊ±Ç‰∫ãÈ†Ö</strong>:
1. Ë≤†„ÅÆÂº∑Â∫¶ÂÄ§„Çí0„Å´ÁΩÆ„ÅçÊèõ„Åà„Çã
2. Z-score„ÅßÂ§ñ„ÇåÂÄ§„ÇíÊ§úÂá∫„ÉªÈô§ÂéªÔºàÈñæÂÄ§3œÉÔºâ
3. Savitzky-Golay„Éï„Ç£„É´„Çø„Åß„Éé„Ç§„Ç∫Èô§ÂéªÔºàwindow=11, polyorder=3Ôºâ
4. Âá¶ÁêÜÂâçÂæå„ÅÆ„Éá„Éº„Çø„ÇíÂèØË¶ñÂåñ

<details>
<summary>„Éí„É≥„Éà</summary>

<strong>Âá¶ÁêÜ„Éï„É≠„Éº</strong>:
1. Ë≤†„ÅÆÂÄ§„ÅÆ„Éû„Çπ„ÇØ‰ΩúÊàê ‚Üí 0„Å´ÁΩÆ„ÅçÊèõ„Åà
2. <code>scipy.stats.zscore</code> „ÅßÂ§ñ„ÇåÂÄ§Ê§úÂá∫
3. Â§ñ„ÇåÂÄ§„ÇíÁ∑öÂΩ¢Ë£úÈñì
4. <code>scipy.signal.savgol_filter</code> „Åß„Çπ„É†„Éº„Ç∏„É≥„Ç∞
5. <code>matplotlib</code> „ÅßÂÖÉ„Éá„Éº„Çø„Å®Âá¶ÁêÜÂæå„Éá„Éº„Çø„ÇíÊØîËºÉ

<strong>‰ΩøÁî®„Åô„ÇãÈñ¢Êï∞</strong>:
- <code>df[condition]</code> „ÅßÊù°‰ª∂ÊäΩÂá∫
- <code>np.abs(stats.zscore())</code> „ÅßZ-score
- <code>interpolate(method='linear')</code> „ÅßË£úÈñì
- <code>savgol_filter()</code> „Åß„Çπ„É†„Éº„Ç∏„É≥„Ç∞

</details>

<details>
<summary>Ëß£Á≠î‰æã</summary>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from scipy import stats
from scipy.signal import savgol_filter

<h1>„Çµ„É≥„Éó„É´„Éá„Éº„Çø</h1>
np.random.seed(100)
two_theta = np.linspace(20, 60, 400)
intensity = (
    800 * np.exp(-((two_theta - 30) ** 2) / 8) +
    1200 * np.exp(-((two_theta - 45) ** 2) / 6) +
    np.random.normal(0, 100, len(two_theta))
)
intensity[50] = 3000
intensity[200] = -500

df = pd.DataFrame({'two_theta': two_theta, 'intensity': intensity})

<h1>„Çπ„ÉÜ„ÉÉ„Éó1: Ë≤†„ÅÆÂÄ§„Çí0„Å´ÁΩÆ„ÅçÊèõ„Åà</h1>
df_cleaned = df.copy()
negative_mask = df_cleaned['intensity'] < 0
df_cleaned.loc[negative_mask, 'intensity'] = 0
print(f"Ë≤†„ÅÆÂÄ§„ÅÆÊï∞: {negative_mask.sum()}")

<h1>„Çπ„ÉÜ„ÉÉ„Éó2: Â§ñ„ÇåÂÄ§Ê§úÂá∫ÔºàZ-scoreÊ≥ïÔºâ</h1>
z_scores = np.abs(stats.zscore(df_cleaned['intensity']))
outliers = z_scores > 3
print(f"Â§ñ„ÇåÂÄ§„ÅÆÊï∞: {outliers.sum()}")

<h1>„Çπ„ÉÜ„ÉÉ„Éó3: Â§ñ„ÇåÂÄ§„ÇíË£úÈñì</h1>
df_cleaned.loc[outliers, 'intensity'] = np.nan
df_cleaned['intensity'] = df_cleaned['intensity'].interpolate(method='linear')

<h1>„Çπ„ÉÜ„ÉÉ„Éó4: Savitzky-Golay„Éï„Ç£„É´„Çø</h1>
intensity_smoothed = savgol_filter(df_cleaned['intensity'].values, window_length=11, polyorder=3)

<h1>ÂèØË¶ñÂåñ</h1>
fig, axes = plt.subplots(2, 2, figsize=(12, 10))

<h1>ÂÖÉ„Éá„Éº„Çø</h1>
axes[0, 0].plot(df['two_theta'], df['intensity'], linewidth=1)
axes[0, 0].set_title('Original Data (with outliers)')
axes[0, 0].set_xlabel('2Œ∏ (degree)')
axes[0, 0].set_ylabel('Intensity')
axes[0, 0].grid(True, alpha=0.3)

<h1>Â§ñ„ÇåÂÄ§Èô§ÂéªÂæå</h1>
axes[0, 1].plot(df_cleaned['two_theta'], df_cleaned['intensity'], linewidth=1, color='orange')
axes[0, 1].set_title('After Outlier Removal')
axes[0, 1].set_xlabel('2Œ∏ (degree)')
axes[0, 1].set_ylabel('Intensity')
axes[0, 1].grid(True, alpha=0.3)

<h1>„Çπ„É†„Éº„Ç∏„É≥„Ç∞Âæå</h1>
axes[1, 0].plot(df_cleaned['two_theta'], intensity_smoothed, linewidth=1.5, color='green')
axes[1, 0].set_title('After Savitzky-Golay Smoothing')
axes[1, 0].set_xlabel('2Œ∏ (degree)')
axes[1, 0].set_ylabel('Intensity')
axes[1, 0].grid(True, alpha=0.3)

<h1>ÂÖ®ÊØîËºÉ</h1>
axes[1, 1].plot(df['two_theta'], df['intensity'], label='Original', alpha=0.4, linewidth=1)
axes[1, 1].plot(df_cleaned['two_theta'], intensity_smoothed, label='Processed', linewidth=1.5)
axes[1, 1].set_title('Comparison')
axes[1, 1].set_xlabel('2Œ∏ (degree)')
axes[1, 1].set_ylabel('Intensity')
axes[1, 1].legend()
axes[1, 1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()</code></pre>

<strong>Âá∫Âäõ</strong>:
<pre><code>Ë≤†„ÅÆÂÄ§„ÅÆÊï∞: 1
Â§ñ„ÇåÂÄ§„ÅÆÊï∞: 2</code></pre>

<strong>Ëß£Ë™¨</strong>:
„Åì„ÅÆÂâçÂá¶ÁêÜ„Éë„Ç§„Éó„É©„Ç§„É≥„Åß„ÅØ„ÄÅÁâ©ÁêÜÁöÑ„Å´‰∏çÂèØËÉΩ„Å™Ë≤†„ÅÆÂÄ§„ÇíÈô§Âéª„Åó„ÄÅÁµ±Ë®àÁöÑÂ§ñ„ÇåÂÄ§„ÇíÊ§úÂá∫„ÉªË£úÈñì„Åó„ÄÅÊúÄÂæå„Å´„Éé„Ç§„Ç∫„ÇíÈô§Âéª„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂá¶ÁêÜ„ÅÆÈ†ÜÂ∫è„ÅåÈáçË¶Å„Åß„ÄÅÂ§ñ„ÇåÂÄ§Èô§Âéª„Çí„Çπ„É†„Éº„Ç∏„É≥„Ç∞„ÅÆÂâç„Å´Ë°å„ÅÜ„Åì„Å®„Åß„ÄÅÂ§ñ„ÇåÂÄ§„ÅÆÂΩ±Èüø„ÇíÊúÄÂ∞èÈôê„Å´Êäë„Åà„Çâ„Çå„Åæ„Åô„ÄÇ

</details>

---

<h3>ÂïèÈ°å3ÔºàÈõ£ÊòìÂ∫¶ÔºöhardÔºâ</h3>

ÂÆüÈöõ„ÅÆÊùêÊñôÁ†îÁ©∂„Ç∑„Éä„É™„Ç™Ôºö„Éè„Ç§„Çπ„É´„Éº„Éó„ÉÉ„ÉàXRDÊ∏¨ÂÆö„Åß1000„Çµ„É≥„Éó„É´„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„Åæ„Åó„Åü„ÄÇÂêÑ„Çµ„É≥„Éó„É´„Å´„Å§„ÅÑ„Å¶„ÄÅÂâçÂá¶ÁêÜ„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíËá™ÂãïÂåñ„Åó„ÄÅÂá¶ÁêÜÊ∏à„Åø„Éá„Éº„Çø„ÇíCSV„Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò„Åô„Çã„Ç∑„Çπ„ÉÜ„É†„ÇíÊßãÁØâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

<strong>ËÉåÊôØ</strong>:
Ëá™ÂãïXRDË£ÖÁΩÆ„Åã„ÇâÊØéÊó•100„Çµ„É≥„Éó„É´„ÅÆÊ∏¨ÂÆö„Éá„Éº„Çø„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇÊâãÂãïÂá¶ÁêÜ„ÅØ‰∏çÂèØËÉΩ„Å™„Åü„ÇÅ„ÄÅËá™ÂãïÂåñ„ÅåÂøÖÈ†à„Åß„Åô„ÄÇ

<strong>Ë™≤È°å</strong>:
1. Ë§áÊï∞„Çµ„É≥„Éó„É´„ÅÆÂâçÂá¶ÁêÜ„Çí‰∏ÄÊã¨ÂÆüË°å„Åô„ÇãÈñ¢Êï∞„Çí‰ΩúÊàê
2. „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Ôºà‰∏çÊ≠£„Å™„Éá„Éº„ÇøÂΩ¢Âºè„ÄÅÊ•µÁ´Ø„Å™Â§ñ„ÇåÂÄ§Ôºâ
3. Âá¶ÁêÜÁµêÊûú„ÅÆ„É≠„Ç∞Âá∫Âäõ
4. Âá¶ÁêÜÊ∏à„Åø„Éá„Éº„Çø„ÅÆ‰øùÂ≠ò

<strong>Âà∂Á¥ÑÊù°‰ª∂</strong>:
- ÂêÑ„Çµ„É≥„Éó„É´„ÅÆ„Éá„Éº„ÇøÁÇπÊï∞„ÅØÁï∞„Å™„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã
- ‰∏ÄÈÉ®„ÅÆ„Çµ„É≥„Éó„É´„ÅØÊ∏¨ÂÆöÂ§±Êïó„Åß‰∏çÂÆåÂÖ®„Å™„Éá„Éº„Çø„ÅÆÂèØËÉΩÊÄß
- Âá¶ÁêÜ„ÅØ5Áßí‰ª•ÂÜÖ/„Çµ„É≥„Éó„É´

<details>
<summary>„Éí„É≥„Éà</summary>

<strong>„Ç¢„Éó„É≠„Éº„ÉÅ</strong>:
1. ÂâçÂá¶ÁêÜ„Çí„Ç´„Éó„Çª„É´Âåñ„Åó„ÅüÈñ¢Êï∞„ÇíÂÆöÁæ©
2. <code>try-except</code> „Åß„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
3. „É≠„Ç∞„Éï„Ç°„Ç§„É´„Å´Âá¶ÁêÜÁµêÊûú„ÇíË®òÈå≤
4. <code>pandas.to_csv()</code> „Åß‰øùÂ≠ò

<strong>Ë®≠Ë®à„Éë„Çø„Éº„É≥</strong>:
<pre><code class="language-python">def preprocess_xrd(data, params):
    """XRD„Éá„Éº„Çø„ÅÆÂâçÂá¶ÁêÜ"""
    # 1. „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
    # 2. Ë≤†„ÅÆÂÄ§Èô§Âéª
    # 3. Â§ñ„ÇåÂÄ§Ê§úÂá∫
    # 4. „Çπ„É†„Éº„Ç∏„É≥„Ç∞
    # 5. ÁµêÊûú„ÇíËøî„Åô
    pass

def batch_process(file_list):
    """Ë§áÊï∞„Éï„Ç°„Ç§„É´„ÅÆ‰∏ÄÊã¨Âá¶ÁêÜ"""
    for file in file_list:
        try:
            # „Éá„Éº„ÇøË™≠„ÅøËæº„Åø
            # ÂâçÂá¶ÁêÜÂÆüË°å
            # ‰øùÂ≠ò
        except Exception as e:
            # „Ç®„É©„Éº„É≠„Ç∞
            pass</code></pre>

</details>

<details>
<summary>Ëß£Á≠î‰æã</summary>

<strong>Ëß£Á≠î„ÅÆÊ¶ÇË¶Å</strong>:
Ë§áÊï∞„Çµ„É≥„Éó„É´„ÅÆXRD„Éá„Éº„Çø„ÇíËá™ÂãïÂá¶ÁêÜ„Åô„ÇãÂ†ÖÁâ¢„Å™„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíÊßãÁØâ„Åó„Åæ„Åô„ÄÇ„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„ÄÅ„É≠„Ç∞Âá∫Âäõ„ÄÅÂá¶ÁêÜÊôÇÈñìÊ∏¨ÂÆö„ÇíÂê´„Åø„Åæ„Åô„ÄÇ

<strong>ÂÆüË£Ö„Ç≥„Éº„Éâ</strong>:

<pre><code class="language-python">import numpy as np
import pandas as pd
from scipy import stats
from scipy.signal import savgol_filter
import time
import logging
from pathlib import Path

<h1>„É≠„ÇÆ„É≥„Ç∞Ë®≠ÂÆö</h1>
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('xrd_processing.log'),
        logging.StreamHandler()
    ]
)

def validate_data(df):
    """„Éá„Éº„Çø„ÅÆÂ¶•ÂΩìÊÄß„ÉÅ„Çß„ÉÉ„ÇØ"""
    if df.empty:
        raise ValueError("Empty DataFrame")

    if 'two_theta' not in df.columns or 'intensity' not in df.columns:
        raise ValueError("Missing required columns")

    if len(df) < 50:
        raise ValueError(f"Insufficient data points: {len(df)}")

    if df['intensity'].isnull().sum() > len(df) * 0.3:
        raise ValueError("Too many missing values (>30%)")

    return True


def preprocess_xrd(df, params=None):
    """
    XRD„Éá„Éº„Çø„ÅÆÂâçÂá¶ÁêÜ„Éë„Ç§„Éó„É©„Ç§„É≥

    Parameters:
    -----------
    df : pd.DataFrame
        „Ç´„É©„É†: 'two_theta', 'intensity'
    params : dict
        ÂâçÂá¶ÁêÜ„Éë„É©„É°„Éº„Çø
        - z_threshold: Z-scoreÈñæÂÄ§Ôºà„Éá„Éï„Ç©„É´„Éà: 3Ôºâ
        - sg_window: Savitzky-Golay„Ç¶„Ç£„É≥„Éâ„Ç¶Ôºà„Éá„Éï„Ç©„É´„Éà: 11Ôºâ
        - sg_polyorder: Â§öÈ†ÖÂºèÊ¨°Êï∞Ôºà„Éá„Éï„Ç©„É´„Éà: 3Ôºâ

    Returns:
    --------
    df_processed : pd.DataFrame
        ÂâçÂá¶ÁêÜÊ∏à„Åø„Éá„Éº„Çø
    """
    # „Éá„Éï„Ç©„É´„Éà„Éë„É©„É°„Éº„Çø
    if params is None:
        params = {
            'z_threshold': 3,
            'sg_window': 11,
            'sg_polyorder': 3
        }

    # „Éá„Éº„ÇøÊ§úË®º
    validate_data(df)

    df_processed = df.copy()

    # „Çπ„ÉÜ„ÉÉ„Éó1: Ë≤†„ÅÆÂÄ§„Çí0„Å´
    negative_count = (df_processed['intensity'] < 0).sum()
    df_processed.loc[df_processed['intensity'] < 0, 'intensity'] = 0

    # „Çπ„ÉÜ„ÉÉ„Éó2: Â§ñ„ÇåÂÄ§Ê§úÂá∫„ÉªË£úÈñì
    z_scores = np.abs(stats.zscore(df_processed['intensity']))
    outliers = z_scores > params['z_threshold']
    outlier_count = outliers.sum()

    df_processed.loc[outliers, 'intensity'] = np.nan
    df_processed['intensity'] = df_processed['intensity'].interpolate(method='linear')

    # „Çπ„ÉÜ„ÉÉ„Éó3: Savitzky-Golay„Éï„Ç£„É´„Çø
    try:
        intensity_smoothed = savgol_filter(
            df_processed['intensity'].values,
            window_length=params['sg_window'],
            polyorder=params['sg_polyorder']
        )
        df_processed['intensity'] = intensity_smoothed
    except Exception as e:
        logging.warning(f"Savitzky-Golay failed: {e}. Using moving average.")
        from scipy.ndimage import uniform_filter1d
        df_processed['intensity'] = uniform_filter1d(
            df_processed['intensity'].values,
            size=params['sg_window']
        )

    # Âá¶ÁêÜÁµ±Ë®à
    stats_dict = {
        'negative_values': negative_count,
        'outliers': outlier_count,
        'data_points': len(df_processed)
    }

    return df_processed, stats_dict


def batch_process_xrd(input_files, output_dir, params=None):
    """
    Ë§áÊï∞„ÅÆXRD„Éï„Ç°„Ç§„É´„Çí‰∏ÄÊã¨Âá¶ÁêÜ

    Parameters:
    -----------
    input_files : list
        ÂÖ•Âäõ„Éï„Ç°„Ç§„É´„Éë„Çπ„ÅÆ„É™„Çπ„Éà
    output_dir : str or Path
        Âá∫Âäõ„Éá„Ç£„É¨„ÇØ„Éà„É™
    params : dict
        ÂâçÂá¶ÁêÜ„Éë„É©„É°„Éº„Çø

    Returns:
    --------
    results : dict
        Âá¶ÁêÜÁµêÊûú„Çµ„Éû„É™„Éº
    """
    output_dir = Path(output_dir)
    output_dir.mkdir(parents=True, exist_ok=True)

    results = {
        'total': len(input_files),
        'success': 0,
        'failed': 0,
        'processing_times': []
    }

    logging.info(f"Starting batch processing of {len(input_files)} files")

    for i, file_path in enumerate(input_files, 1):
        file_path = Path(file_path)
        start_time = time.time()

        try:
            # „Éá„Éº„ÇøË™≠„ÅøËæº„Åø
            df = pd.read_csv(file_path)

            # ÂâçÂá¶ÁêÜÂÆüË°å
            df_processed, stats_dict = preprocess_xrd(df, params)

            # ‰øùÂ≠ò
            output_file = output_dir / f"processed_{file_path.name}"
            df_processed.to_csv(output_file, index=False)

            # Âá¶ÁêÜÊôÇÈñì
            processing_time = time.time() - start_time
            results['processing_times'].append(processing_time)
            results['success'] += 1

            logging.info(
                f"[{i}/{len(input_files)}] SUCCESS: {file_path.name} "
                f"({processing_time:.2f}s) - "
                f"Negatives: {stats_dict['negative_values']}, "
                f"Outliers: {stats_dict['outliers']}"
            )

        except Exception as e:
            results['failed'] += 1
            logging.error(f"[{i}/{len(input_files)}] FAILED: {file_path.name} - {str(e)}")

    # „Çµ„Éû„É™„Éº
    avg_time = np.mean(results['processing_times']) if results['processing_times'] else 0
    logging.info(
        f"\n=== Batch Processing Complete ===\n"
        f"Total: {results['total']}\n"
        f"Success: {results['success']}\n"
        f"Failed: {results['failed']}\n"
        f"Average processing time: {avg_time:.2f}s"
    )

    return results


<h1>==================== „Éá„É¢ÂÆüË°å ====================</h1>

if __name__ == "__main__":
    # „Çµ„É≥„Éó„É´„Éá„Éº„ÇøÁîüÊàêÔºàÂÆüÈöõ„ÅØÂÆüÈ®ì„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄÔºâ
    np.random.seed(42)

    # 10„Çµ„É≥„Éó„É´ÂàÜ„ÅÆ„Éá„Éº„Çø„ÇíÁîüÊàê
    sample_dir = Path("sample_xrd_data")
    sample_dir.mkdir(exist_ok=True)

    for i in range(10):
        two_theta = np.linspace(20, 60, 400)
        intensity = (
            800 * np.exp(-((two_theta - 30) ** 2) / 8) +
            1200 * np.exp(-((two_theta - 45) ** 2) / 6) +
            np.random.normal(0, 100, len(two_theta))
        )

        # „É©„É≥„ÉÄ„É†„Å´Â§ñ„ÇåÂÄ§„ÇíËøΩÂä†
        if np.random.rand() > 0.5:
            outlier_idx = np.random.randint(0, len(intensity), size=2)
            intensity[outlier_idx] = np.random.choice([3000, -500], size=2)

        df = pd.DataFrame({'two_theta': two_theta, 'intensity': intensity})
        df.to_csv(sample_dir / f"sample_{i:03d}.csv", index=False)

    # „Éê„ÉÉ„ÉÅÂá¶ÁêÜÂÆüË°å
    input_files = list(sample_dir.glob("sample_*.csv"))
    output_dir = Path("processed_xrd_data")

    params = {
        'z_threshold': 3,
        'sg_window': 11,
        'sg_polyorder': 3
    }

    results = batch_process_xrd(input_files, output_dir, params)

    print(f"\nÂá¶ÁêÜÂÆå‰∫Ü: {results['success']}/{results['total']} files")</code></pre>

<strong>ÁµêÊûú</strong>:
<pre><code>2025-10-17 10:30:15 - INFO - Starting batch processing of 10 files
2025-10-17 10:30:15 - INFO - [1/10] SUCCESS: sample_000.csv (0.15s) - Negatives: 1, Outliers: 2
2025-10-17 10:30:15 - INFO - [2/10] SUCCESS: sample_001.csv (0.12s) - Negatives: 0, Outliers: 1
...
2025-10-17 10:30:16 - INFO -
=== Batch Processing Complete ===
Total: 10
Success: 10
Failed: 0
Average processing time: 0.13s</code></pre>

<strong>Ë©≥Á¥∞„Å™Ëß£Ë™¨</strong>:
1. <strong>„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞</strong>: <code>validate_data()</code> „Åß‰∫ãÂâç„ÉÅ„Çß„ÉÉ„ÇØ„ÄÅ<code>try-except</code> „ÅßÂÆüË°åÊôÇ„Ç®„É©„ÉºÊçïÊçâ
2. <strong>„É≠„ÇÆ„É≥„Ç∞</strong>: Âá¶ÁêÜÁä∂Ê≥Å„Çí„Éï„Ç°„Ç§„É´„Å®„Ç≥„É≥„ÇΩ„Éº„É´‰∏°Êñπ„Å´Âá∫Âäõ
3. <strong>„Éë„É©„É°„Éº„ÇøÂåñ</strong>: ÂâçÂá¶ÁêÜ„Éë„É©„É°„Éº„Çø„ÇíÂ§ñÈÉ®„Åã„ÇâÊåáÂÆöÂèØËÉΩ
4. <strong>„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ</strong>: Âá¶ÁêÜÊôÇÈñì„ÇíÊ∏¨ÂÆö„Åó„ÄÅ„Éú„Éà„É´„Éç„ÉÉ„ÇØÁâπÂÆö
5. <strong>„Çπ„Ç±„Éº„É©„Éì„É™„ÉÜ„Ç£</strong>: „Éï„Ç°„Ç§„É´Êï∞„Å´‰æù„Çâ„ÅöÂãï‰Ωú

<strong>ËøΩÂä†„ÅÆÊ§úË®é‰∫ãÈ†Ö</strong>:
- ‰∏¶ÂàóÂá¶ÁêÜÔºà<code>multiprocessing</code>Ôºâ„ÅßÈ´òÈÄüÂåñ
- „Éá„Éº„Çø„Éô„Éº„ÇπÔºàSQLiteÔºâ„Å∏„ÅÆ‰øùÂ≠ò
- Web„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅßÂá¶ÁêÜÁä∂Ê≥Å„ÇíÂèØË¶ñÂåñ
- „ÇØ„É©„Ç¶„Éâ„Çπ„Éà„É¨„Éº„Ç∏ÔºàS3„ÄÅGCSÔºâ„Å®„ÅÆÈÄ£Êê∫

</details>

---

<h2>ÂèÇËÄÉÊñáÁåÆ</h2>

1. VanderPlas, J. (2016). "Python Data Science Handbook." O'Reilly Media. ISBN: 978-1491912058

2. Savitzky, A., & Golay, M. J. (1964). "Smoothing and Differentiation of Data by Simplified Least Squares Procedures." *Analytical Chemistry*, 36(8), 1627-1639. DOI: [10.1021/ac60214a047](https://doi.org/10.1021/ac60214a047)

3. Stein, H. S. et al. (2019). "Progress and prospects for accelerating materials science with automated and autonomous workflows." *Chemical Science*, 10(42), 9640-9649. DOI: [10.1039/C9SC03766G](https://doi.org/10.1039/C9SC03766G)

4. SciPy Documentation: Signal Processing. URL: [https://docs.scipy.org/doc/scipy/reference/signal.html](https://docs.scipy.org/doc/scipy/reference/signal.html)

5. pandas Documentation: Data Cleaning. URL: [https://pandas.pydata.org/docs/user_guide/missing_data.html](https://pandas.pydata.org/docs/user_guide/missing_data.html)

---

<h2>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥</h2>

<h3>Ââç„ÅÆÁ´†</h3>
„Å™„ÅóÔºàÁ¨¨1Á´†Ôºâ

<h3>Ê¨°„ÅÆÁ´†</h3>
<strong>[Á¨¨2Á´†Ôºö„Çπ„Éö„ÇØ„Éà„É´„Éá„Éº„ÇøËß£Êûê ‚Üí](./chapter-2.md)</strong>

<h3>„Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°</h3>
<strong>[‚Üê „Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°„Å´Êàª„Çã](./index.md)</strong>

---

<h2>ËëóËÄÖÊÉÖÂ†±</h2>

<strong>‰ΩúÊàêËÄÖ</strong>: AI Terakoya Content Team
<strong>Áõ£‰øÆ</strong>: Dr. Yusuke HashimotoÔºàÊù±ÂåóÂ§ßÂ≠¶Ôºâ
<strong>‰ΩúÊàêÊó•</strong>: 2025-10-17
<strong>„Éê„Éº„Ç∏„Éß„É≥</strong>: 1.0

<strong>Êõ¥Êñ∞Â±•Ê≠¥</strong>:
- 2025-10-17: v1.0 ÂàùÁâàÂÖ¨Èñã

<strong>„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ</strong>:
- GitHub Issues: [„É™„Éù„Ç∏„Éà„É™URL]/issues
- Email: yusuke.hashimoto.b8@tohoku.ac.jp

<strong>„É©„Ç§„Çª„É≥„Çπ</strong>: Creative Commons BY 4.0

---

<strong>Ê¨°„ÅÆÁ´†„ÅßÂ≠¶Áøí„ÇíÁ∂ö„Åë„Åæ„Åó„Çá„ÅÜÔºÅ</strong>
<div class="navigation">
    <a href="index.html" class="nav-button">„Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°„Å´Êàª„Çã</a>
    <a href="chapter-2.html" class="nav-button">Á¨¨2Á´† ‚Üí</a>
</div>
    </main>

    <footer>
        <p><strong>‰ΩúÊàêËÄÖ</strong>: AI Terakoya Content Team</p>
        <p><strong>Áõ£‰øÆ</strong>: Dr. Yusuke HashimotoÔºàÊù±ÂåóÂ§ßÂ≠¶Ôºâ</p>
        <p><strong>„Éê„Éº„Ç∏„Éß„É≥</strong>: 1.0 | <strong>‰ΩúÊàêÊó•</strong>: 2025-10-17</p>
        <p><strong>„É©„Ç§„Çª„É≥„Çπ</strong>: Creative Commons BY 4.0</p>
        <p>¬© 2025 AI Terakoya. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mermaidCodeBlocks = document.querySelectorAll('pre.codehilite code.language-mermaid, pre code.language-mermaid');

            mermaidCodeBlocks.forEach(function(codeBlock) {
                const pre = codeBlock.parentElement;
                const mermaidCode = codeBlock.textContent;

                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                mermaidDiv.textContent = mermaidCode.trim();

                pre.parentNode.replaceChild(mermaidDiv, pre);
            });

            if (typeof mermaid !== 'undefined') {
                mermaid.initialize({
                    startOnLoad: true,
                    theme: 'default'
                });
                mermaid.init(undefined, document.querySelectorAll('.mermaid'));
            }
        });
    </script>
</body>
</html>
