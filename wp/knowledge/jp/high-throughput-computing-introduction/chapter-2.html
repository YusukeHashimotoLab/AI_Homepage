<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šDFTè¨ˆç®—ã®è‡ªå‹•åŒ–ï¼ˆVASP, Quantum ESPRESSOï¼‰ - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬2ç« ï¼šDFTè¨ˆç®—ã®è‡ªå‹•åŒ–ï¼ˆVASP, Quantum ESPRESSOï¼‰</h1>
            <p class="subtitle"></p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 20-25åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´šã€œä¸Šç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 6å€‹</span>
                <span class="meta-item">ğŸ“ æ¼”ç¿’å•é¡Œ: 0å•</span>
            </div>
        </div>
    </header>

    <main class="container">

<h1>ç¬¬2ç« ï¼šDFTè¨ˆç®—ã®è‡ªå‹•åŒ–ï¼ˆVASP, Quantum ESPRESSOï¼‰</h1>

<h2>å­¦ç¿’ç›®æ¨™</h2>

ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š

- âœ… ASEã‚’ä½¿ã£ã¦DFTè¨ˆç®—ã‚’è‡ªå‹•å®Ÿè¡Œã§ãã‚‹
- âœ… VASPã¨Quantum ESPRESSOã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹
- âœ… pymatgenã®InputSetã§æ¨™æº–åŒ–ã•ã‚ŒãŸè¨­å®šã‚’ä½¿ãˆã‚‹
- âœ… ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ã¦è‡ªå‹•ãƒªã‚¹ã‚¿ãƒ¼ãƒˆã§ãã‚‹
- âœ… æ§‹é€ æœ€é©åŒ–ã®åæŸåˆ¤å®šã‚’è‡ªå‹•åŒ–ã§ãã‚‹

---

<h2>2.1 ASEï¼ˆAtomic Simulation Environmentï¼‰åŸºç¤</h2>

<h3>ASEã¨ã¯</h3>

<strong>ASEï¼ˆAtomic Simulation Environmentï¼‰</strong>ã¯ã€åŸå­ã‚¹ã‚±ãƒ¼ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

<strong>ç‰¹å¾´</strong>:
- âœ… å¤šæ§˜ãªè¨ˆç®—ã‚³ãƒ¼ãƒ‰å¯¾å¿œï¼ˆVASPã€QEã€LAMMPSç­‰ï¼‰
- âœ… æ§‹é€ ç”Ÿæˆãƒ»æ“ä½œã®çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- âœ… è¨ˆç®—çµæœã®è§£æãƒ„ãƒ¼ãƒ«
- âœ… MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼ˆã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ï¼‰

<h3>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>

<pre><code class="language-bash"><h1>condaç’°å¢ƒã‚’æ¨å¥¨</h1>
conda create -n ht_computing python=3.10
conda activate ht_computing

<h1>ASEã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h1>
pip install ase

<h1>è¿½åŠ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</h1>
pip install numpy scipy matplotlib</code></pre>

<h3>åŸºæœ¬çš„ãªæ§‹é€ ç”Ÿæˆ</h3>

<pre><code class="language-python">from ase import Atoms
from ase.build import bulk, molecule
import numpy as np

<h1>ä¾‹1: ãƒãƒ«ã‚¯çµæ™¶ã®ç”Ÿæˆ</h1>
si = bulk('Si', 'diamond', a=5.43)
print(f"Siçµæ™¶: {len(si)}åŸå­")
print(f"æ ¼å­å®šæ•°: {si.cell.cellpar()}")

<h1>ä¾‹2: åˆ†å­ã®ç”Ÿæˆ</h1>
h2o = molecule('H2O')
print(f"H2Oåˆ†å­: {len(h2o)}åŸå­")

<h1>ä¾‹3: ã‚«ã‚¹ã‚¿ãƒ æ§‹é€ </h1>
<h1>LiCoO2ï¼ˆå±¤çŠ¶æ§‹é€ ï¼‰</h1>
a = 2.82
c = 14.05
positions = [
    [0, 0, 0],       # Li
    [0, 0, 0.5*c],   # Co
    [1/3, 2/3, 0.25*c],  # O
    [2/3, 1/3, 0.75*c],  # O
]
atoms = Atoms('LiCoO2',
              positions=positions,
              cell=[a, a, c, 90, 90, 120],
              pbc=True)

print(f"LiCoO2: {atoms.get_chemical_formula()}")</code></pre>

<strong>å‡ºåŠ›</strong>:
<pre><code>Siçµæ™¶: 2åŸå­
æ ¼å­å®šæ•°: [5.43 5.43 5.43 90.  90.  90. ]
H2Oåˆ†å­: 3åŸå­
LiCoO2: LiCoO2</code></pre>

<h3>æ§‹é€ ã®å¯è¦–åŒ–</h3>

<pre><code class="language-python">from ase.visualize import view

<h1>3Då¯è¦–åŒ–ï¼ˆGUIãŒèµ·å‹•ï¼‰</h1>
view(si)

<h1>ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜</h1>
from ase.io import write

<h1>CIFå½¢å¼ã§ä¿å­˜</h1>
write('si_structure.cif', si)

<h1>POSCARå½¢å¼ï¼ˆVASPç”¨ï¼‰</h1>
write('POSCAR', si, format='vasp')

<h1>XYZå½¢å¼</h1>
write('structure.xyz', si)</code></pre>

---

<h2>2.2 VASPè‡ªå‹•åŒ–</h2>

<h3>VASPã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­å®š</h3>

<pre><code class="language-python">from ase.calculators.vasp import Vasp

<h1>VASPè¨ˆç®—å™¨ã®è¨­å®š</h1>
calc = Vasp(
    # åŸºæœ¬è¨­å®š
    xc='PBE',           # äº¤æ›ç›¸é–¢æ±é–¢æ•°
    encut=520,          # ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆeVï¼‰

    # k-pointè¨­å®š
    kpts=(8, 8, 8),     # Monkhorst-Packæ ¼å­
    gamma=True,         # Î“ç‚¹ä¸­å¿ƒ

    # é›»å­æ§‹é€ 
    ismear=0,           # Gaussianã‚¹ãƒŸã‚¢ãƒªãƒ³ã‚°
    sigma=0.05,         # ã‚¹ãƒŸã‚¢ãƒªãƒ³ã‚°å¹…ï¼ˆeVï¼‰

    # åæŸåˆ¤å®š
    ediff=1e-5,         # ã‚¨ãƒãƒ«ã‚®ãƒ¼åæŸï¼ˆeVï¼‰

    # ä¸¦åˆ—åŒ–
    ncore=4,            # ä¸¦åˆ—åŠ¹ç‡å‘ä¸Š

    # å‡ºåŠ›åˆ¶å¾¡
    lwave=False,        # WAVECARã‚’ä¿å­˜ã—ãªã„
    lcharg=False,       # CHGCARã‚’ä¿å­˜ã—ãªã„
)</code></pre>

<h3>æ§‹é€ æœ€é©åŒ–ã®è‡ªå‹•åŒ–</h3>

<pre><code class="language-python">from ase.optimize import BFGS
from ase.calculators.vasp import Vasp
from ase.io import read, write
import os

def relax_structure(atoms, output_dir='relaxation'):
    """
    æ§‹é€ æœ€é©åŒ–ã‚’è‡ªå‹•å®Ÿè¡Œ

    Parameters:
    -----------
    atoms : ase.Atoms
        æœ€é©åŒ–ã™ã‚‹æ§‹é€ 
    output_dir : str
        å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

    Returns:
    --------
    relaxed_atoms : ase.Atoms
        æœ€é©åŒ–å¾Œã®æ§‹é€ 
    """
    # å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
    os.makedirs(output_dir, exist_ok=True)
    os.chdir(output_dir)

    # VASPè¨ˆç®—å™¨è¨­å®š
    calc = Vasp(
        xc='PBE',
        encut=520,
        kpts=(8, 8, 8),
        ediff=1e-5,
        ibrion=2,       # æ§‹é€ æœ€é©åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
        nsw=100,        # æœ€å¤§ã‚¤ã‚ªãƒ³ã‚¹ãƒ†ãƒƒãƒ—æ•°
        isif=3,         # ã‚»ãƒ«å½¢çŠ¶ã‚‚æœ€é©åŒ–
        ediffg=-0.01,   # åŠ›ã®åæŸåˆ¤å®šï¼ˆeV/Ã…ï¼‰
    )

    atoms.calc = calc

    # æœ€é©åŒ–å®Ÿè¡Œ
    print(f"æ§‹é€ æœ€é©åŒ–ã‚’é–‹å§‹: {atoms.get_chemical_formula()}")

    try:
        # BFGSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§æœ€é©åŒ–
        optimizer = BFGS(atoms, trajectory='optimization.traj')
        optimizer.run(fmax=0.01)  # æœ€å¤§åŠ›ãŒ0.01 eV/Ã…ä»¥ä¸‹

        print("æ§‹é€ æœ€é©åŒ–ãŒå®Œäº†ã—ã¾ã—ãŸ")
        print(f"æœ€çµ‚ã‚¨ãƒãƒ«ã‚®ãƒ¼: {atoms.get_potential_energy():.3f} eV")

        # æœ€é©åŒ–å¾Œã®æ§‹é€ ã‚’ä¿å­˜
        write('CONTCAR', atoms, format='vasp')

        return atoms

    except Exception as e:
        print(f"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {e}")
        return None

    finally:
        os.chdir('..')

<h1>ä½¿ç”¨ä¾‹</h1>
si = bulk('Si', 'diamond', a=5.43)
relaxed_si = relax_structure(si, output_dir='si_relaxation')</code></pre>

<h3>INCARãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•ç”Ÿæˆ</h3>

<pre><code class="language-python">def generate_incar(calculation_type='relax'):
    """
    è¨ˆç®—ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸINCARè¨­å®šã‚’ç”Ÿæˆ

    Parameters:
    -----------
    calculation_type : str
        'relax', 'static', 'band', 'dos'ã®ã„ãšã‚Œã‹

    Returns:
    --------
    incar_dict : dict
        INCARè¨­å®šã®è¾æ›¸
    """
    # å…±é€šè¨­å®š
    base_settings = {
        'SYSTEM': 'Automated calculation',
        'PREC': 'Accurate',
        'ENCUT': 520,
        'EDIFF': 1e-5,
        'ISMEAR': 0,
        'SIGMA': 0.05,
        'LREAL': False,
        'LWAVE': False,
        'LCHARG': False,
    }

    # è¨ˆç®—ã‚¿ã‚¤ãƒ—åˆ¥è¨­å®š
    if calculation_type == 'relax':
        specific = {
            'IBRION': 2,      # CGæ³•
            'NSW': 100,       # æœ€å¤§ã‚¤ã‚ªãƒ³ã‚¹ãƒ†ãƒƒãƒ—
            'ISIF': 3,        # ã‚»ãƒ«å½¢çŠ¶æœ€é©åŒ–
            'EDIFFG': -0.01,  # åŠ›ã®åæŸ
        }

    elif calculation_type == 'static':
        specific = {
            'IBRION': -1,     # ã‚¤ã‚ªãƒ³ç·©å’Œãªã—
            'NSW': 0,
            'LCHARG': True,   # é›»è·å¯†åº¦ã‚’ä¿å­˜
        }

    elif calculation_type == 'band':
        specific = {
            'IBRION': -1,
            'NSW': 0,
            'ICHARG': 11,     # é›»è·å¯†åº¦ã‚’èª­ã¿è¾¼ã¿
            'LORBIT': 11,     # DOSã¨ãƒãƒ³ãƒ‰
        }

    elif calculation_type == 'dos':
        specific = {
            'IBRION': -1,
            'NSW': 0,
            'ICHARG': 11,
            'LORBIT': 11,
            'NEDOS': 2001,    # DOSè§£åƒåº¦
        }

    else:
        raise ValueError(f"Unknown calculation type: {calculation_type}")

    # è¨­å®šã‚’çµåˆ
    incar_dict = {<strong>base_settings, </strong>specific}

    return incar_dict

<h1>ä½¿ç”¨ä¾‹</h1>
relax_incar = generate_incar('relax')
print("æ§‹é€ æœ€é©åŒ–ç”¨INCAR:")
for key, value in relax_incar.items():
    print(f"{key} = {value}")</code></pre>

<h3>K-pointè‡ªå‹•è¨­å®š</h3>

<pre><code class="language-python">from ase.dft.kpoints import monkhorst_pack
import numpy as np

def auto_kpoints(atoms, kpt_density=1000):
    """
    ã‚»ãƒ«ã‚µã‚¤ã‚ºã«å¿œã˜ã¦k-pointå¯†åº¦ã‚’è‡ªå‹•è¨­å®š

    Parameters:
    -----------
    atoms : ase.Atoms
        æ§‹é€ 
    kpt_density : float
        k-pointå¯†åº¦ï¼ˆ1/Ã…Â³ã‚ãŸã‚Šã®k-pointæ•°ï¼‰

    Returns:
    --------
    kpts : tuple
        k-pointæ ¼å­ï¼ˆnx, ny, nzï¼‰
    """
    # ã‚»ãƒ«ã®é€†æ ¼å­ãƒ™ã‚¯ãƒˆãƒ«é•·ã•
    cell = atoms.get_cell()
    reciprocal_cell = cell.reciprocal()
    lengths = np.linalg.norm(reciprocal_cell, axis=1)

    # k-pointæ•°ã‚’è¨ˆç®—
    kpts = []
    for length in lengths:
        # k-pointå¯†åº¦ã‹ã‚‰å¿…è¦ãªåˆ†å‰²æ•°ã‚’è¨ˆç®—
        n = max(1, int(np.ceil(kpt_density / length)))
        kpts.append(n)

    return tuple(kpts)

<h1>ä½¿ç”¨ä¾‹</h1>
si = bulk('Si', 'diamond', a=5.43)
kpts = auto_kpoints(si, kpt_density=1000)
print(f"Siç”¨k-pointæ ¼å­: {kpts}")  # ä¾‹: (12, 12, 12)

<h1>å¤§ããªã‚»ãƒ«</h1>
supercell = si * (2, 2, 2)
kpts_super = auto_kpoints(supercell, kpt_density=1000)
print(f"ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒ«ç”¨k-point: {kpts_super}")  # ä¾‹: (6, 6, 6)</code></pre>

---

<h2>2.3 Quantum ESPRESSOè‡ªå‹•åŒ–</h2>

<h3>QEè¨ˆç®—å™¨è¨­å®š</h3>

<pre><code class="language-python">from ase.calculators.espresso import Espresso

<h1>Quantum ESPRESSOè¨ˆç®—å™¨</h1>
calc_qe = Espresso(
    # å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    command='pw.x -in PREFIX.pwi > PREFIX.pwo',

    # æ“¬ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«
    pseudopotentials={
        'Si': 'Si.pbe-n-kjpaw_psl.1.0.0.UPF',
        'O': 'O.pbe-n-kjpaw_psl.1.0.0.UPF',
    },
    pseudo_dir='/path/to/pseudopotentials',

    # å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    input_data={
        'control': {
            'calculation': 'relax',
            'restart_mode': 'from_scratch',
            'prefix': 'pwscf',
            'outdir': './tmp',
            'pseudo_dir': '/path/to/pseudopotentials',
        },
        'system': {
            'ecutwfc': 60,      # æ³¢å‹•é–¢æ•°ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆRyï¼‰
            'ecutrho': 480,     # é›»è·å¯†åº¦ã‚«ãƒƒãƒˆã‚ªãƒ•
            'occupations': 'smearing',
            'smearing': 'gaussian',
            'degauss': 0.01,
        },
        'electrons': {
            'conv_thr': 1e-8,   # åæŸåˆ¤å®š
            'mixing_beta': 0.7,
        },
        'ions': {
            'ion_dynamics': 'bfgs',
        },
    },

    # k-point
    kpts=(8, 8, 8),
    koffset=(0, 0, 0),
)</code></pre>

<h3>QEå…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h3>

<pre><code class="language-python">def generate_qe_input(atoms, calculation='relax'):
    """
    Quantum ESPRESSOå…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ

    Parameters:
    -----------
    atoms : ase.Atoms
        è¨ˆç®—ã™ã‚‹æ§‹é€ 
    calculation : str
        'relax', 'scf', 'nscf', 'bands'

    Returns:
    --------
    input_str : str
        å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹
    """
    from ase.io.espresso import write_espresso_in

    # è¨ˆç®—ã‚¿ã‚¤ãƒ—åˆ¥è¨­å®š
    if calculation == 'relax':
        input_data = {
            'control': {
                'calculation': 'relax',
                'restart_mode': 'from_scratch',
            },
            'system': {
                'ecutwfc': 60,
                'ecutrho': 480,
            },
            'electrons': {
                'conv_thr': 1e-8,
            },
            'ions': {
                'ion_dynamics': 'bfgs',
            },
        }

    elif calculation == 'scf':
        input_data = {
            'control': {
                'calculation': 'scf',
            },
            'system': {
                'ecutwfc': 60,
                'ecutrho': 480,
            },
            'electrons': {
                'conv_thr': 1e-8,
            },
        }

    elif calculation == 'bands':
        input_data = {
            'control': {
                'calculation': 'bands',
            },
            'system': {
                'ecutwfc': 60,
                'ecutrho': 480,
                'nbnd': 20,  # ãƒãƒ³ãƒ‰æ•°
            },
            'electrons': {
                'conv_thr': 1e-8,
            },
        }

    # å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿
    write_espresso_in(
        'pw.in',
        atoms,
        input_data=input_data,
        pseudopotentials={el: f"{el}.pbe.UPF" for el in set(atoms.get_chemical_symbols())},
        kpts=(8, 8, 8),
    )

    with open('pw.in', 'r') as f:
        input_str = f.read()

    return input_str

<h1>ä½¿ç”¨ä¾‹</h1>
si = bulk('Si', 'diamond', a=5.43)
qe_input = generate_qe_input(si, calculation='relax')
print(qe_input)</code></pre>

---

<h2>2.4 pymatgenã«ã‚ˆã‚‹é«˜åº¦ãªè‡ªå‹•åŒ–</h2>

<h3>InputSetã®æ´»ç”¨</h3>

pymatgenã¯ã€Materials Projectã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹æ¨™æº–åŒ–ã•ã‚ŒãŸè¨ˆç®—è¨­å®šã‚’æä¾›ã—ã¾ã™ã€‚

<pre><code class="language-python">from pymatgen.core import Structure
from pymatgen.io.vasp.sets import MPRelaxSet, MPStaticSet

<h1>æ§‹é€ ã‚’èª­ã¿è¾¼ã¿ï¼ˆCIFãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ï¼‰</h1>
structure = Structure.from_file("LiCoO2.cif")

<h1>Materials Projectæ¨™æº–ã®æ§‹é€ æœ€é©åŒ–è¨­å®š</h1>
relax_set = MPRelaxSet(structure)

<h1>INCAR, KPOINTS, POTCARã‚’è‡ªå‹•ç”Ÿæˆ</h1>
relax_set.write_input("relax_calculation")

<h1>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…å®¹:</h1>
<h1>relax_calculation/</h1>
<h1>  â”œâ”€â”€ INCAR</h1>
<h1>  â”œâ”€â”€ POSCAR</h1>
<h1>  â”œâ”€â”€ KPOINTS</h1>
<h1>  â””â”€â”€ POTCAR</h1>

<h1>é™çš„è¨ˆç®—è¨­å®šï¼ˆæ§‹é€ æœ€é©åŒ–å¾Œï¼‰</h1>
static_set = MPStaticSet(structure)
static_set.write_input("static_calculation")</code></pre>

<h3>ã‚«ã‚¹ã‚¿ãƒ InputSet</h3>

<pre><code class="language-python">from pymatgen.io.vasp.sets import DictSet

<h1>ã‚«ã‚¹ã‚¿ãƒ è¨­å®š</h1>
custom_incar = {
    "ENCUT": 600,      # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚ˆã‚Šé«˜ç²¾åº¦
    "EDIFF": 1e-6,
    "ISMEAR": -5,      # Tetrahedronæ³•
    "LORBIT": 11,
    "LWAVE": False,
    "LCHARG": True,
}

<h1>ã‚«ã‚¹ã‚¿ãƒ InputSetä½œæˆ</h1>
custom_set = DictSet(
    structure,
    config_dict={
        "INCAR": custom_incar,
        "KPOINTS": {"reciprocal_density": 200},  # k-pointå¯†åº¦
    }
)

custom_set.write_input("custom_calculation")</code></pre>

<h3>ã‚¨ãƒ©ãƒ¼æ¤œå‡ºã¨ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ</h3>

<pre><code class="language-python">from pymatgen.io.vasp.outputs import Vasprun, Outcar
from pymatgen.io.vasp.sets import MPRelaxSet
import os

def check_convergence(directory):
    """
    VASPè¨ˆç®—ã®åæŸã‚’ãƒã‚§ãƒƒã‚¯

    Returns:
    --------
    status : str
        'converged', 'not_converged', 'error'
    """
    try:
        # vasprun.xmlã‚’èª­ã¿è¾¼ã¿
        vasprun = Vasprun(os.path.join(directory, "vasprun.xml"))

        if vasprun.converged:
            return 'converged'
        else:
            return 'not_converged'

    except Exception as e:
        print(f"ã‚¨ãƒ©ãƒ¼: {e}")
        return 'error'

def auto_restart(directory, max_attempts=3):
    """
    åæŸã—ãªã„è¨ˆç®—ã‚’è‡ªå‹•ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ

    Parameters:
    -----------
    directory : str
        è¨ˆç®—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    max_attempts : int
        æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°
    """
    for attempt in range(max_attempts):
        status = check_convergence(directory)

        if status == 'converged':
            print("è¨ˆç®—ãŒåæŸã—ã¾ã—ãŸ")
            return True

        elif status == 'not_converged':
            print(f"æœªåæŸã€‚ãƒªãƒˆãƒ©ã‚¤ {attempt+1}/{max_attempts}")

            # è¨­å®šã‚’ç·©å’Œ
            # ä¾‹: ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚«ãƒƒãƒˆã‚ªãƒ•ã‚’ä¸‹ã’ã‚‹ã€ã‚¹ãƒŸã‚¢ãƒªãƒ³ã‚°ã‚’å¢—ã‚„ã™
            modify_incar(directory, {'ENCUT': 450, 'SIGMA': 0.1})

            # ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ
            restart_calculation(directory)

        elif status == 'error':
            print("è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼ã€‚ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™")
            return False

    print("æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ã«é”ã—ã¾ã—ãŸ")
    return False

def modify_incar(directory, new_params):
    """INCARãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£"""
    from pymatgen.io.vasp.inputs import Incar

    incar_file = os.path.join(directory, "INCAR")
    incar = Incar.from_file(incar_file)

    # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ›´æ–°
    for key, value in new_params.items():
        incar[key] = value

    # ä¿å­˜
    incar.write_file(incar_file)
    print(f"INCARã‚’æ›´æ–°: {new_params}")

def restart_calculation(directory):
    """è¨ˆç®—ã‚’å†å®Ÿè¡Œ"""
    import subprocess

    # CONTCARã‚’POSCARã«ã‚³ãƒ”ãƒ¼
    os.system(f"cp {directory}/CONTCAR {directory}/POSCAR")

    # VASPå†å®Ÿè¡Œ
    os.chdir(directory)
    subprocess.run(["mpirun", "-np", "48", "vasp_std"])
    os.chdir("..")</code></pre>

---

<h2>2.5 ãƒãƒƒãƒå‡¦ç†</h2>

<h3>è¤‡æ•°ææ–™ã®è‡ªå‹•è¨ˆç®—</h3>

<pre><code class="language-python">import os
from pymatgen.core import Structure
from pymatgen.io.vasp.sets import MPRelaxSet

def batch_relax(structure_files, output_root='calculations'):
    """
    è¤‡æ•°ã®æ§‹é€ ã‚’ä¸€æ‹¬ã§æ§‹é€ æœ€é©åŒ–

    Parameters:
    -----------
    structure_files : list
        CIFãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚¹ãƒˆ
    output_root : str
        å‡ºåŠ›ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    """
    os.makedirs(output_root, exist_ok=True)

    for cif_file in structure_files:
        # æ§‹é€ ã‚’èª­ã¿è¾¼ã¿
        structure = Structure.from_file(cif_file)
        formula = structure.composition.reduced_formula

        print(f"å‡¦ç†ä¸­: {formula}")

        # å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
        calc_dir = os.path.join(output_root, formula)

        # InputSetä½œæˆ
        relax_set = MPRelaxSet(structure)
        relax_set.write_input(calc_dir)

        # ã‚¸ãƒ§ãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
        create_job_script(calc_dir, formula)

        # ã‚¸ãƒ§ãƒ–æŠ•å…¥ï¼ˆSLURMã®å ´åˆï¼‰
        os.chdir(calc_dir)
        os.system("sbatch job.sh")
        os.chdir("../..")

        print(f"  â†’ ã‚¸ãƒ§ãƒ–æŠ•å…¥å®Œäº†: {calc_dir}")

def create_job_script(directory, jobname):
    """SLURMã‚¸ãƒ§ãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ"""
    script = f"""#!/bin/bash
#SBATCH --job-name={jobname}
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=24:00:00
#SBATCH --partition=standard

module load vasp/6.3.0

mpirun -np 48 vasp_std
"""

    with open(os.path.join(directory, "job.sh"), 'w') as f:
        f.write(script)

<h1>ä½¿ç”¨ä¾‹</h1>
cif_files = [
    "LiCoO2.cif",
    "LiNiO2.cif",
    "LiMnO2.cif",
    "LiFePO4.cif",
]

batch_relax(cif_files, output_root='battery_materials')</code></pre>

---

<h2>2.6 æ¼”ç¿’å•é¡Œ</h2>

<h3>å•é¡Œ1ï¼ˆé›£æ˜“åº¦: easyï¼‰</h3>

<strong>å•é¡Œ</strong>: ASEã‚’ä½¿ã£ã¦NaClï¼ˆå²©å¡©æ§‹é€ ï¼‰ã®çµæ™¶ã‚’ç”Ÿæˆã—ã€POSCARãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¦ãã ã•ã„ã€‚æ ¼å­å®šæ•°ã¯5.64 Ã…ã§ã™ã€‚

<details>
<summary>ãƒ’ãƒ³ãƒˆ</summary>

<code>ase.build.bulk</code>é–¢æ•°ã‚’ä½¿ç”¨ã€‚çµæ™¶æ§‹é€ ã¯'rocksalt'ã‚’æŒ‡å®šã€‚

</details>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">from ase.build import bulk
from ase.io import write

<h1>NaClçµæ™¶ç”Ÿæˆ</h1>
nacl = bulk('NaCl', 'rocksalt', a=5.64)

<h1>POSCARä¿å­˜</h1>
write('POSCAR_NaCl', nacl, format='vasp')

print(f"NaCl: {nacl.get_chemical_formula()}")
print(f"åŸå­æ•°: {len(nacl)}")
print(f"ã‚»ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: {nacl.cell.cellpar()}")</code></pre>

<strong>å‡ºåŠ›</strong>:
<pre><code>NaCl: NaCl
åŸå­æ•°: 2
ã‚»ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: [5.64 5.64 5.64 90.  90.  90. ]</code></pre>

</details>

<h3>å•é¡Œ2ï¼ˆé›£æ˜“åº¦: mediumï¼‰</h3>

<strong>å•é¡Œ</strong>: pymatgenã®MPRelaxSetã‚’ä½¿ã£ã¦ã€Liâ‚‚Oï¼ˆLi2O.cifï¼‰ã®æ§‹é€ æœ€é©åŒ–ç”¨å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚ã•ã‚‰ã«ã€k-pointå¯†åº¦ã‚’2000ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>ãƒ’ãƒ³ãƒˆ</summary>

<code>MPRelaxSet</code>ã®user_incar_settingsã¨user_kpoints_settingsã‚’ä½¿ç”¨ã€‚

</details>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">from pymatgen.core import Structure
from pymatgen.io.vasp.sets import MPRelaxSet

<h1>æ§‹é€ èª­ã¿è¾¼ã¿</h1>
structure = Structure.from_file("Li2O.cif")

<h1>k-pointå¯†åº¦ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h1>
relax_set = MPRelaxSet(
    structure,
    user_kpoints_settings={"reciprocal_density": 2000}
)

<h1>å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ</h1>
relax_set.write_input("li2o_relax")

print("å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ: li2o_relax/")
print(f"k-pointè¨­å®š:")
with open("li2o_relax/KPOINTS", 'r') as f:
    print(f.read())</code></pre>

</details>

<h3>å•é¡Œ3ï¼ˆé›£æ˜“åº¦: hardï¼‰</h3>

<strong>å•é¡Œ</strong>: 100å€‹ã®é…¸åŒ–ç‰©ï¼ˆCIFå½¢å¼ï¼‰ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®æ¡ä»¶ã§è‡ªå‹•è¨ˆç®—ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

1. Materials Projectæ¨™æº–è¨­å®šã§æ§‹é€ æœ€é©åŒ–
2. k-pointå¯†åº¦ã¯1500
3. å„ææ–™ã”ã¨ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
4. SLURMã‚¸ãƒ§ãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ
5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆèª­ã¿è¾¼ã¿å¤±æ•—æ™‚ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰

<details>
<summary>ãƒ’ãƒ³ãƒˆ</summary>

ãƒãƒƒãƒå‡¦ç†ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å‚è€ƒã«ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã€‚

</details>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import os
from pymatgen.core import Structure
from pymatgen.io.vasp.sets import MPRelaxSet
from glob import glob

def batch_process_oxides(cif_directory, output_root='oxide_calculations'):
    """
    100å€‹ã®é…¸åŒ–ç‰©ã‚’ä¸€æ‹¬å‡¦ç†
    """
    # CIFãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆ
    cif_files = glob(os.path.join(cif_directory, "*.cif"))
    print(f"CIFãƒ•ã‚¡ã‚¤ãƒ«æ•°: {len(cif_files)}")

    os.makedirs(output_root, exist_ok=True)

    success_count = 0
    error_count = 0

    for cif_file in cif_files:
        try:
            # æ§‹é€ èª­ã¿è¾¼ã¿
            structure = Structure.from_file(cif_file)
            formula = structure.composition.reduced_formula

            # é…¸åŒ–ç‰©ã®ã¿å‡¦ç†
            if 'O' not in structure.composition.elements:
                print(f"ã‚¹ã‚­ãƒƒãƒ—ï¼ˆé…¸åŒ–ç‰©ã§ã¯ãªã„ï¼‰: {formula}")
                continue

            print(f"å‡¦ç†ä¸­ ({success_count+1}): {formula}")

            # å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
            calc_dir = os.path.join(output_root, formula)

            # InputSetä½œæˆï¼ˆk-pointå¯†åº¦1500ï¼‰
            relax_set = MPRelaxSet(
                structure,
                user_kpoints_settings={"reciprocal_density": 1500}
            )
            relax_set.write_input(calc_dir)

            # ã‚¸ãƒ§ãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
            create_slurm_script(calc_dir, formula)

            success_count += 1

        except Exception as e:
            print(f"ã‚¨ãƒ©ãƒ¼: {cif_file} - {e}")
            error_count += 1
            continue

    print(f"\nå®Œäº†:")
    print(f"  æˆåŠŸ: {success_count}")
    print(f"  å¤±æ•—: {error_count}")

def create_slurm_script(directory, jobname):
    """SLURMã‚¸ãƒ§ãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ"""
    script = f"""#!/bin/bash
#SBATCH --job-name={jobname}
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48
#SBATCH --time=24:00:00
#SBATCH --partition=standard
#SBATCH --output=slurm-%j.out
#SBATCH --error=slurm-%j.err

<h1>ç’°å¢ƒè¨­å®š</h1>
module load intel/2021.2
module load vasp/6.3.0

<h1>VASPå®Ÿè¡Œ</h1>
mpirun -np 48 vasp_std

<h1>åæŸãƒã‚§ãƒƒã‚¯</h1>
if grep -q "reached required accuracy" OUTCAR; then
    echo "åæŸæˆåŠŸ"
    exit 0
else
    echo "åæŸå¤±æ•—"
    exit 1
fi
"""

    with open(os.path.join(directory, "job.sh"), 'w') as f:
        f.write(script)

<h1>å®Ÿè¡Œ</h1>
batch_process_oxides("oxide_cifs", output_root="oxide_ht_calculations")</code></pre>

<strong>å‡ºåŠ›ä¾‹</strong>:
<pre><code>CIFãƒ•ã‚¡ã‚¤ãƒ«æ•°: 100
å‡¦ç†ä¸­ (1): Li2O
å‡¦ç†ä¸­ (2): Na2O
ã‚¹ã‚­ãƒƒãƒ—ï¼ˆé…¸åŒ–ç‰©ã§ã¯ãªã„ï¼‰: LiCl
å‡¦ç†ä¸­ (3): MgO
...
å®Œäº†:
  æˆåŠŸ: 95
  å¤±æ•—: 5</code></pre>

</details>

---

<h2>2.7 ã¾ã¨ã‚</h2>

ã“ã®ç« ã§ã¯ã€ASEã¨pymatgenã‚’ä½¿ã£ãŸDFTè¨ˆç®—ã®è‡ªå‹•åŒ–ã‚’å­¦ã³ã¾ã—ãŸã€‚

<strong>ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆ</strong>:

1. <strong>ASE</strong>: çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å¤šæ§˜ãªè¨ˆç®—ã‚³ãƒ¼ãƒ‰ã‚’æ“ä½œ
2. <strong>VASPè‡ªå‹•åŒ–</strong>: INCARã€KPOINTSã€POTCARã®è‡ªå‹•ç”Ÿæˆ
3. <strong>QEè‡ªå‹•åŒ–</strong>: å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
4. <strong>pymatgen InputSet</strong>: Materials Projectæ¨™æº–è¨­å®š
5. <strong>ã‚¨ãƒ©ãƒ¼å‡¦ç†</strong>: åæŸãƒã‚§ãƒƒã‚¯ã¨è‡ªå‹•ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ
6. <strong>ãƒãƒƒãƒå‡¦ç†</strong>: è¤‡æ•°ææ–™ã®ä¸€æ‹¬è¨ˆç®—

<strong>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</strong>:

ç¬¬3ç« ã§ã¯ã€<strong>ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã¨ä¸¦åˆ—åŒ–</strong>ã‚’å­¦ã³ã¾ã™ã€‚SLURMã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆã€MPIã«ã‚ˆã‚‹å¤§è¦æ¨¡ä¸¦åˆ—è¨ˆç®—ã€1000ææ–™è¦æ¨¡ã®åŠ¹ç‡çš„ãªç®¡ç†æ‰‹æ³•ã‚’ç¿’å¾—ã—ã¾ã™ã€‚

<strong>[ç¬¬3ç« : ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã¨ä¸¦åˆ—åŒ– â†’](./chapter-3.md)</strong>

---

<h2>å‚è€ƒæ–‡çŒ®</h2>

1. Larsen, A. H., et al. (2017). "The atomic simulation environmentâ€”a Python library for working with atoms." *Journal of Physics: Condensed Matter*, 29(27), 273002.

2. Ong, S. P., et al. (2013). "Python Materials Genomics (pymatgen): A robust, open-source python library for materials analysis." *Computational Materials Science*, 68, 314-319.

3. Kresse, G., & FurthmÃ¼ller, J. (1996). "Efficient iterative schemes for ab initio total-energy calculations using a plane-wave basis set." *Physical Review B*, 54(16), 11169.

4. Giannozzi, P., et al. (2009). "QUANTUM ESPRESSO: a modular and open-source software project for quantum simulations of materials." *Journal of Physics: Condensed Matter*, 21(39), 395502.

---

<strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: CC BY 4.0
<strong>ä½œæˆæ—¥</strong>: 2025-10-17
<strong>ä½œæˆè€…</strong>: Dr. Yusuke Hashimoto, Tohoku University
<div class="navigation">
    <a href="chapter-1.html" class="nav-button">â† ç¬¬1ç« </a>
    <a href="index.html" class="nav-button">ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡ã«æˆ»ã‚‹</a>
    <a href="chapter-3.html" class="nav-button">ç¬¬3ç«  â†’</a>
</div>
    </main>

    <footer>
        <p><strong>ä½œæˆè€…</strong>: AI Terakoya Content Team</p>
        <p><strong>ç›£ä¿®</strong>: Dr. Yusuke Hashimotoï¼ˆæ±åŒ—å¤§å­¦ï¼‰</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-17</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>Â© 2025 AI Terakoya. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mermaidCodeBlocks = document.querySelectorAll('pre.codehilite code.language-mermaid, pre code.language-mermaid');

            mermaidCodeBlocks.forEach(function(codeBlock) {
                const pre = codeBlock.parentElement;
                const mermaidCode = codeBlock.textContent;

                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                mermaidDiv.textContent = mermaidCode.trim();

                pre.parentNode.replaceChild(mermaidDiv, pre);
            });

            if (typeof mermaid !== 'undefined') {
                mermaid.initialize({
                    startOnLoad: true,
                    theme: 'default'
                });
                mermaid.init(undefined, document.querySelectorAll('.mermaid'));
            }
        });
    </script>
</body>
</html>
