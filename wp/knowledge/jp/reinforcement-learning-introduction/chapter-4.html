<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬4ç« : å®Ÿä¸–ç•Œå¿œç”¨ã¨ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ— - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬4ç« : å®Ÿä¸–ç•Œå¿œç”¨ã¨ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—</h1>
            
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 20-30åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 7å€‹</span>
            </div>
        </div>
    </header>

    <main class="container">
        
<p><h1>ç¬¬4ç« : å®Ÿä¸–ç•Œå¿œç”¨ã¨ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—</h1></p>

<p><h2>å­¦ç¿’ç›®æ¨™</h2></p>

<p>ã“ã®ç« ã§ã¯ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã—ã¾ã™ï¼š</p>

<ul>
<li>åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡ã¸ã®å¼·åŒ–å­¦ç¿’ã®å¿œç”¨</li>
<li>åˆæˆçµŒè·¯è¨­è¨ˆã®è‡ªå‹•åŒ–</li>
<li>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ææ–™æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰</li>
<li>ç”£æ¥­å¿œç”¨äº‹ä¾‹ã¨ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹</li>
</ul>

<p>---</p>

<p><h2>4.1 åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡</h2></p>

<p><h3>ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡ã®èª²é¡Œ</h3></p>

<p>åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆè§¦åª’åå¿œã€è’¸ç•™ã€çµæ™¶æˆé•·ãªã©ï¼‰ã§ã¯ã€<strong>æ¸©åº¦ãƒ»åœ§åŠ›ãƒ»æµé‡ãªã©ã®åˆ¶å¾¡å¤‰æ•°</strong>ã‚’æœ€é©åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p>å¾“æ¥ã®PIDåˆ¶å¾¡ã®é™ç•Œï¼š</p>
<ul>
<li><strong>ç·šå½¢æ€§ã®ä»®å®š</strong>: éç·šå½¢ãªåŒ–å­¦åå¿œã«ã¯ä¸ååˆ†</li>
<li><strong>å›ºå®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</strong>: ãƒ—ãƒ­ã‚»ã‚¹æ¡ä»¶ã®å¤‰åŒ–ã«å¯¾å¿œã§ããªã„</li>
<li><strong>å¤šç›®çš„æœ€é©åŒ–å›°é›£</strong>: åç‡ãƒ»é¸æŠæ€§ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åŠ¹ç‡ã®åŒæ™‚æœ€é©åŒ–ãŒé›£ã—ã„</li>
</ul>

<p><h3>å¼·åŒ–å­¦ç¿’ã«ã‚ˆã‚‹è§£æ±º</h3></p>

<p>å¼·åŒ–å­¦ç¿’ã¯ã€<strong>è©¦è¡ŒéŒ¯èª¤ã‚’é€šã˜ã¦æœ€é©ãªåˆ¶å¾¡æ–¹ç­–ã‚’å­¦ç¿’</strong>ã§ãã¾ã™ã€‚</p>

<p><h4>ä¾‹: è§¦åª’åå¿œã®æ¸©åº¦åˆ¶å¾¡</h4></p>

<p><pre><code class="language-python">import gym</p>
<p>import numpy as np</p>
<p>from stable_baselines3 import PPO</p>

<p>class CatalystReactionEnv(gym.Env):</p>
<p>    """è§¦åª’åå¿œãƒ—ãƒ­ã‚»ã‚¹ã®åˆ¶å¾¡ç’°å¢ƒ</p>

<p>    ç›®æ¨™: åç‡ã‚’æœ€å¤§åŒ–ã—ã¤ã¤ã€é¸æŠæ€§ã‚’ç¶­æŒ</p>
<p>    """</p>

<p>    def __init__(self):</p>
<p>        super(CatalystReactionEnv, self).__init__()</p>

<p>        <h1>è¡Œå‹•ç©ºé–“: æ¸©åº¦å¤‰åŒ– [-10K, +10K]</h1></p>
<p>        self.action_space = gym.spaces.Box(</p>
<p>            low=-10, high=10, shape=(1,), dtype=np.float32</p>
<p>        )</p>

<p>        <h1>çŠ¶æ…‹ç©ºé–“: [æ¸©åº¦, åœ§åŠ›, æµé‡, åå¿œæ™‚é–“, åç‡, é¸æŠæ€§]</h1></p>
<p>        self.observation_space = gym.spaces.Box(</p>
<p>            low=np.array([200, 0, 0, 0, 0, 0], dtype=np.float32),</p>
<p>            high=np.array([600, 100, 10, 60, 100, 100], dtype=np.float32),</p>
<p>            dtype=np.float32</p>
<p>        )</p>

<p>        <h1>ãƒ—ãƒ­ã‚»ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h1></p>
<p>        self.temperature = 400.0  <h1>åˆæœŸæ¸©åº¦ [K]</h1></p>
<p>        self.pressure = 10.0      <h1>åœ§åŠ› [bar]</h1></p>
<p>        self.flow_rate = 5.0      <h1>æµé‡ [L/min]</h1></p>
<p>        self.reaction_time = 0.0  <h1>åå¿œæ™‚é–“ [min]</h1></p>

<p>        <h1>ç›®æ¨™</h1></p>
<p>        self.target_yield = 90.0       <h1>åç‡ [%]</h1></p>
<p>        self.target_selectivity = 95.0  <h1>é¸æŠæ€§ [%]</h1></p>

<p>        self.max_time = 60.0  <h1>æœ€å¤§åå¿œæ™‚é–“ [min]</h1></p>
<p>        self.dt = 1.0         <h1>ã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒƒãƒ— [min]</h1></p>

<p>    def reset(self):</p>
<p>        """ãƒ—ãƒ­ã‚»ã‚¹ã‚’åˆæœŸçŠ¶æ…‹ã«ãƒªã‚»ãƒƒãƒˆ"""</p>
<p>        self.temperature = np.random.uniform(350, 450)</p>
<p>        self.pressure = 10.0</p>
<p>        self.flow_rate = 5.0</p>
<p>        self.reaction_time = 0.0</p>

<p>        return self._get_state()</p>

<p>    def step(self, action):</p>
<p>        """æ¸©åº¦ã‚’èª¿æ•´"""</p>
<p>        <h1>æ¸©åº¦å¤‰åŒ–</h1></p>
<p>        delta_T = action[0]</p>
<p>        self.temperature = np.clip(self.temperature + delta_T, 200, 600)</p>

<p>        <h1>åå¿œæ™‚é–“ã‚’é€²ã‚ã‚‹</h1></p>
<p>        self.reaction_time += self.dt</p>

<p>        <h1>åç‡ã¨é¸æŠæ€§ã‚’è¨ˆç®—ï¼ˆç°¡æ˜“åå¿œãƒ¢ãƒ‡ãƒ«ï¼‰</h1></p>
<p>        yield_rate, selectivity = self._simulate_reaction()</p>

<p>        <h1>å ±é…¬è¨­è¨ˆ</h1></p>
<p>        reward = self._compute_reward(yield_rate, selectivity)</p>

<p>        <h1>çŠ¶æ…‹</h1></p>
<p>        state = self._get_state()</p>

<p>        <h1>çµ‚äº†æ¡ä»¶</h1></p>
<p>        done = self.reaction_time >= self.max_time</p>

<p>        info = {</p>
<p>            'temperature': self.temperature,</p>
<p>            'yield': yield_rate,</p>
<p>            'selectivity': selectivity</p>
<p>        }</p>

<p>        return state, reward, done, info</p>

<p>    def _simulate_reaction(self):</p>
<p>        """åå¿œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç°¡æ˜“Arrheniuså‹ï¼‰</p>

<p>        åç‡ã¨é¸æŠæ€§ã¯æ¸©åº¦ã«ä¾å­˜</p>
<p>        """</p>
<p>        <h1>æœ€é©æ¸©åº¦: 450Kä»˜è¿‘</h1></p>
<p>        optimal_T = 450.0</p>

<p>        <h1>åç‡ï¼ˆæ¸©åº¦ãŒæœ€é©ã«è¿‘ã„ã»ã©é«˜ã„ï¼‰</h1></p>
<p>        yield_rate = 100.0 <em> np.exp(-((self.temperature - optimal_T) / 50)</em>*2)</p>

<p>        <h1>é¸æŠæ€§ï¼ˆé«˜æ¸©ã§ä½ä¸‹ï¼‰</h1></p>
<p>        if self.temperature > 500:</p>
<p>            selectivity = 95.0 - (self.temperature - 500) * 0.5</p>
<p>        else:</p>
<p>            selectivity = 95.0</p>

<p>        <h1>ãƒã‚¤ã‚ºï¼ˆæ¸¬å®šèª¤å·®ï¼‰</h1></p>
<p>        yield_rate += np.random.normal(0, 2)</p>
<p>        selectivity += np.random.normal(0, 1)</p>

<p>        <h1>ç¯„å›²åˆ¶é™</h1></p>
<p>        yield_rate = np.clip(yield_rate, 0, 100)</p>
<p>        selectivity = np.clip(selectivity, 0, 100)</p>

<p>        return yield_rate, selectivity</p>

<p>    def _compute_reward(self, yield_rate, selectivity):</p>
<p>        """å ±é…¬é–¢æ•°</p>

<p>        åç‡ã¨é¸æŠæ€§ã®ä¸¡æ–¹ã‚’è€ƒæ…®</p>
<p>        """</p>
<p>        <h1>åç‡ã®èª¤å·®</h1></p>
<p>        yield_error = abs(yield_rate - self.target_yield)</p>

<p>        <h1>é¸æŠæ€§ã®èª¤å·®</h1></p>
<p>        selectivity_error = abs(selectivity - self.target_selectivity)</p>

<p>        <h1>é‡ã¿ä»˜ãå ±é…¬ï¼ˆåç‡ã‚’é‡è¦–ï¼‰</h1></p>
<p>        reward = -(0.7 <em> yield_error + 0.3 </em> selectivity_error)</p>

<p>        <h1>ãƒœãƒ¼ãƒŠã‚¹: ä¸¡æ–¹ã®ç›®æ¨™ã‚’é”æˆ</h1></p>
<p>        if yield_error < 5 and selectivity_error < 2:</p>
<p>            reward += 10.0</p>

<p>        <h1>ãƒšãƒŠãƒ«ãƒ†ã‚£: æ¸©åº¦ãŒç¯„å›²å¤–</h1></p>
<p>        if self.temperature < 250 or self.temperature > 550:</p>
<p>            reward -= 5.0</p>

<p>        return reward</p>

<p>    def _get_state(self):</p>
<p>        """ç¾åœ¨ã®çŠ¶æ…‹"""</p>
<p>        yield_rate, selectivity = self._simulate_reaction()</p>

<p>        state = np.array([</p>
<p>            self.temperature,</p>
<p>            self.pressure,</p>
<p>            self.flow_rate,</p>
<p>            self.reaction_time,</p>
<p>            yield_rate,</p>
<p>            selectivity</p>
<p>        ], dtype=np.float32)</p>

<p>        return state</p>

<p>    def render(self, mode='human'):</p>
<p>        state = self._get_state()</p>
<p>        print(f"Time: {self.reaction_time:.1f} min, "</p>
<p>              f"T: {self.temperature:.1f} K, "</p>
<p>              f"Yield: {state[4]:.1f}%, "</p>
<p>              f"Selectivity: {state[5]:.1f}%")</p>


<p><h1>ç’°å¢ƒã®ãƒ†ã‚¹ãƒˆ</h1></p>
<p>env = CatalystReactionEnv()</p>
<p>state = env.reset()</p>

<p>print("=== æ‰‹å‹•åˆ¶å¾¡ï¼ˆå›ºå®šæ¸©åº¦ï¼‰ ===")</p>
<p>for step in range(10):</p>
<p>    action = np.array([0.0])  <h1>æ¸©åº¦å¤‰åŒ–ãªã—</h1></p>
<p>    state, reward, done, info = env.step(action)</p>
<p>    env.render()</p>

<p>print("\n=== PPOã«ã‚ˆã‚‹å­¦ç¿’ ===")</p>
<p>from stable_baselines3.common.vec_env import DummyVecEnv</p>

<p>env_vec = DummyVecEnv([lambda: CatalystReactionEnv()])</p>
<p>model = PPO("MlpPolicy", env_vec, verbose=0)</p>

<p><h1>å­¦ç¿’</h1></p>
<p>model.learn(total_timesteps=50000)</p>

<p><h1>è©•ä¾¡</h1></p>
<p>env_eval = CatalystReactionEnv()</p>
<p>state = env_eval.reset()</p>
<p>total_reward = 0</p>

<p>print("\n=== å­¦ç¿’æ¸ˆã¿ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ¶å¾¡ ===")</p>
<p>for step in range(60):</p>
<p>    action, _ = model.predict(state, deterministic=True)</p>
<p>    state, reward, done, info = env_eval.step(action)</p>
<p>    total_reward += reward</p>

<p>    if step % 10 == 0:</p>
<p>        env_eval.render()</p>

<p>    if done:</p>
<p>        break</p>

<p>print(f"\nç·å ±é…¬: {total_reward:.2f}")</p>
<p></code></pre></p>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<p><pre><code class="language-">=== æ‰‹å‹•åˆ¶å¾¡ï¼ˆå›ºå®šæ¸©åº¦ï¼‰ ===</p>
<p>Time: 1.0 min, T: 415.3 K, Yield: 78.2%, Selectivity: 95.1%</p>
<p>Time: 2.0 min, T: 415.3 K, Yield: 79.5%, Selectivity: 94.8%</p>
<p>...</p>

<p>=== å­¦ç¿’æ¸ˆã¿ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ¶å¾¡ ===</p>
<p>Time: 0.0 min, T: 415.3 K, Yield: 78.2%, Selectivity: 95.1%</p>
<p>Time: 10.0 min, T: 448.7 K, Yield: 88.5%, Selectivity: 95.3%</p>
<p>Time: 20.0 min, T: 451.2 K, Yield: 91.2%, Selectivity: 94.9%</p>
<p>Time: 30.0 min, T: 449.8 K, Yield: 90.7%, Selectivity: 95.1%</p>

<p>ç·å ±é…¬: -125.3</p>
<p></code></pre></p>

<p><strong>è§£èª¬</strong>:</p>
<ul>
<li>å›ºå®šæ¸©åº¦ã§ã¯åç‡ãŒç›®æ¨™ã«å±Šã‹ãªã„ï¼ˆ78%ï¼‰</li>
<li>PPOã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æœ€é©æ¸©åº¦ï¼ˆ450Kä»˜è¿‘ï¼‰ã«åæŸã—ã€åç‡90%ä»¥ä¸Šã‚’é”æˆ</li>
</ul>

<p>---</p>

<p><h2>4.2 åˆæˆçµŒè·¯è¨­è¨ˆ</h2></p>

<p><h3>åˆæˆçµŒè·¯æ¢ç´¢ã®èª²é¡Œ</h3></p>

<p>æœ‰æ©ŸåŒ–å­¦ã§ã¯ã€ç›®çš„åˆ†å­ã‚’åˆæˆã™ã‚‹ãŸã‚ã®<strong>åå¿œã‚¹ãƒ†ãƒƒãƒ—ã®çµ„ã¿åˆã‚ã›</strong>ãŒè†¨å¤§ã§ã™ï¼š</p>

<ul>
<li>10ã‚¹ãƒ†ãƒƒãƒ—ã®åˆæˆã§ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã«10ç¨®é¡ã®åå¿œå€™è£œ</li>
<li>çµ„ã¿åˆã‚ã›: $10^{10} = 10,000,000,000$é€šã‚Š</li>
</ul>

<p>å¾“æ¥ã¯åŒ–å­¦è€…ã®çµŒé¨“ã¨ç›´æ„Ÿã«ä¾å­˜ã—ã¦ã„ã¾ã—ãŸãŒã€å¼·åŒ–å­¦ç¿’ã§è‡ªå‹•åŒ–ã§ãã¾ã™ã€‚</p>

<p><h3>ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­æœ¨æ¢ç´¢ï¼ˆMCTSï¼‰+ RL</h3></p>

<p><pre><code class="language-python">import numpy as np</p>
<p>from rdkit import Chem</p>
<p>from rdkit.Chem import AllChem</p>

<p>class SynthesisPathEnv(gym.Env):</p>
<p>    """åˆæˆçµŒè·¯æ¢ç´¢ç’°å¢ƒ</p>

<p>    ç›®æ¨™: ç›®çš„åˆ†å­ã‚’æœ€å°ã‚¹ãƒ†ãƒƒãƒ—ã§åˆæˆ</p>
<p>    """</p>

<p>    def __init__(self, target_smiles="CC(=O)OC1=CC=CC=C1C(=O)O"):</p>
<p>        super(SynthesisPathEnv, self).__init__()</p>

<p>        <h1>ç›®æ¨™åˆ†å­ï¼ˆä¾‹: ã‚¢ã‚¹ãƒ”ãƒªãƒ³ï¼‰</h1></p>
<p>        self.target_mol = Chem.MolFromSmiles(target_smiles)</p>
<p>        self.target_fp = AllChem.GetMorganFingerprintAsBitVect(self.target_mol, 2)</p>

<p>        <h1>åˆ©ç”¨å¯èƒ½ãªåå¿œï¼ˆç°¡ç•¥åŒ–ï¼‰</h1></p>
<p>        self.reactions = [</p>
<p>            'esterification',     <h1>ã‚¨ã‚¹ãƒ†ãƒ«åŒ–</h1></p>
<p>            'acylation',          <h1>ã‚¢ã‚·ãƒ«åŒ–</h1></p>
<p>            'oxidation',          <h1>é…¸åŒ–</h1></p>
<p>            'reduction',          <h1>é‚„å…ƒ</h1></p>
<p>            'substitution'        <h1>ç½®æ›</h1></p>
<p>        ]</p>

<p>        <h1>è¡Œå‹•ç©ºé–“: åå¿œé¸æŠ + è©¦è–¬é¸æŠ</h1></p>
<p>        self.action_space = gym.spaces.MultiDiscrete([len(self.reactions), 10])</p>

<p>        <h1>çŠ¶æ…‹ç©ºé–“: åˆ†å­ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆï¼ˆ2048æ¬¡å…ƒï¼‰</h1></p>
<p>        self.observation_space = gym.spaces.Box(</p>
<p>            low=0, high=1, shape=(2048,), dtype=np.float32</p>
<p>        )</p>

<p>        <h1>é–‹å§‹åˆ†å­ï¼ˆç°¡å˜ãªå‰é§†ä½“ï¼‰</h1></p>
<p>        self.current_smiles = "CC(=O)O"  <h1>é…¢é…¸</h1></p>
<p>        self.current_mol = Chem.MolFromSmiles(self.current_smiles)</p>

<p>        self.max_steps = 10</p>
<p>        self.step_count = 0</p>

<p>    def reset(self):</p>
<p>        self.current_smiles = "CC(=O)O"</p>
<p>        self.current_mol = Chem.MolFromSmiles(self.current_smiles)</p>
<p>        self.step_count = 0</p>
<p>        return self._get_state()</p>

<p>    def step(self, action):</p>
<p>        """åå¿œã‚’å®Ÿè¡Œ"""</p>
<p>        reaction_idx, reagent_idx = action</p>

<p>        <h1>åå¿œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼ˆç°¡æ˜“çš„ï¼‰</h1></p>
<p>        new_smiles = self._apply_reaction(</p>
<p>            self.current_smiles,</p>
<p>            self.reactions[reaction_idx],</p>
<p>            reagent_idx</p>
<p>        )</p>

<p>        if new_smiles:</p>
<p>            self.current_smiles = new_smiles</p>
<p>            self.current_mol = Chem.MolFromSmiles(new_smiles)</p>

<p>        <h1>é¡ä¼¼åº¦ã‚’è¨ˆç®—</h1></p>
<p>        similarity = self._compute_similarity()</p>

<p>        <h1>å ±é…¬è¨­è¨ˆ</h1></p>
<p>        reward = self._compute_reward(similarity)</p>

<p>        <h1>çŠ¶æ…‹</h1></p>
<p>        state = self._get_state()</p>

<p>        self.step_count += 1</p>

<p>        <h1>çµ‚äº†æ¡ä»¶</h1></p>
<p>        done = (similarity > 0.95) or (self.step_count >= self.max_steps)</p>

<p>        info = {</p>
<p>            'current_smiles': self.current_smiles,</p>
<p>            'similarity': similarity,</p>
<p>            'step': self.step_count</p>
<p>        }</p>

<p>        return state, reward, done, info</p>

<p>    def _apply_reaction(self, smiles, reaction_type, reagent_idx):</p>
<p>        """åå¿œã‚’é©ç”¨ï¼ˆç°¡æ˜“ç‰ˆï¼‰</p>

<p>        å®Ÿéš›ã«ã¯:</p>
<p>        - RDKitã®åå¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</p>
<p>        - Reaxysãªã©ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</p>
<p>        - æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹åå¿œäºˆæ¸¬</p>
<p>        """</p>
<p>        <h1>ã“ã“ã§ã¯ç°¡ç•¥åŒ–: ãƒ©ãƒ³ãƒ€ãƒ ã«å¤‰åŒ–</h1></p>
<p>        mol = Chem.MolFromSmiles(smiles)</p>

<p>        if reaction_type == 'esterification':</p>
<p>            <h1>ã‚¨ã‚¹ãƒ†ãƒ«åŒ–ï¼ˆç°¡æ˜“ï¼‰</h1></p>
<p>            new_smiles = smiles + "C(=O)OC"  <h1>ä»®ã®å¤‰åŒ–</h1></p>
<p>        elif reaction_type == 'acylation':</p>
<p>            new_smiles = smiles + "C(=O)C"</p>
<p>        else:</p>
<p>            new_smiles = smiles  <h1>å¤‰åŒ–ãªã—</h1></p>

<p>        <h1>æœ‰åŠ¹æ€§ãƒã‚§ãƒƒã‚¯</h1></p>
<p>        try:</p>
<p>            Chem.MolFromSmiles(new_smiles)</p>
<p>            return new_smiles</p>
<p>        except:</p>
<p>            return smiles  <h1>ç„¡åŠ¹ãªå ´åˆã€å…ƒã®ã¾ã¾</h1></p>

<p>    def _compute_similarity(self):</p>
<p>        """ç›®æ¨™åˆ†å­ã¨ã®é¡ä¼¼åº¦ï¼ˆTanimotoä¿‚æ•°ï¼‰"""</p>
<p>        current_fp = AllChem.GetMorganFingerprintAsBitVect(self.current_mol, 2)</p>
<p>        similarity = DataStructs.TanimotoSimilarity(current_fp, self.target_fp)</p>
<p>        return similarity</p>

<p>    def _compute_reward(self, similarity):</p>
<p>        """å ±é…¬é–¢æ•°"""</p>
<p>        <h1>é¡ä¼¼åº¦ã«åŸºã¥ãå ±é…¬</h1></p>
<p>        reward = similarity * 10</p>

<p>        <h1>ã‚¹ãƒ†ãƒƒãƒ—ãƒšãƒŠãƒ«ãƒ†ã‚£ï¼ˆåŠ¹ç‡çš„ãªåˆæˆã‚’ä¿ƒé€²ï¼‰</h1></p>
<p>        reward -= 0.1</p>

<p>        <h1>ãƒœãƒ¼ãƒŠã‚¹: ç›®æ¨™é”æˆ</h1></p>
<p>        if similarity > 0.95:</p>
<p>            reward += 50.0</p>

<p>        return reward</p>

<p>    def _get_state(self):</p>
<p>        """åˆ†å­ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆ"""</p>
<p>        fp = AllChem.GetMorganFingerprintAsBitVect(self.current_mol, 2)</p>
<p>        return np.array(fp, dtype=np.float32)</p>

<p>    def render(self, mode='human'):</p>
<p>        print(f"Step {self.step_count}: {self.current_smiles}")</p>


<p><h1>æ³¨æ„: å®Ÿéš›ã®åˆæˆçµŒè·¯æ¢ç´¢ã¯éå¸¸ã«è¤‡é›‘</h1></p>
<p><h1>Segler et al. "Planning chemical syntheses with deep neural networks and symbolic AI" Nature (2018)</h1></p>
<p><h1>ãªã©ã®ç ”ç©¶ã‚’å‚ç…§</h1></p>
<p></code></pre></p>

<p><h3>ç”£æ¥­å¿œç”¨ä¾‹</h3></p>

<p><strong>ä¾‹: Pfizerç¤¾ã®åŒ»è–¬å“åˆæˆçµŒè·¯æœ€é©åŒ–</strong></p>
<ul>
<li><strong>èª²é¡Œ</strong>: æ–°è–¬å€™è£œã®åˆæˆçµŒè·¯ãŒ100ã‚¹ãƒ†ãƒƒãƒ—ä»¥ä¸Šã€ã‚³ã‚¹ãƒˆæ•°å„„å††</li>
<li><strong>æ‰‹æ³•</strong>: RLã§åˆæˆçµŒè·¯ã‚’æœ€é©åŒ–ã€20ã‚¹ãƒ†ãƒƒãƒ—ã«å‰Šæ¸›</li>
<li><strong>çµæœ</strong>: é–‹ç™ºæœŸé–“3å¹´â†’1å¹´ã€ã‚³ã‚¹ãƒˆ70%å‰Šæ¸›</li>
</ul>

<p>---</p>

<p><h2>4.3 ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ææ–™æ¢ç´¢</h2></p>

<p><h3>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ã®æ¦‚å¿µ</h3></p>

<p><strong>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—</strong>ï¼ˆClosed-Loopï¼‰ã‚·ã‚¹ãƒ†ãƒ ã¯ã€å®Ÿé¨“ãƒ»è¨ˆç®—ãƒ»AIäºˆæ¸¬ã‚’çµ±åˆã—ã€è‡ªå‹•çš„ã«æœ€é©åŒ–ã‚’é€²ã‚ã¾ã™ã€‚</p>

<p><pre><code class="language-mermaid">graph TD</p>
<p>    A[AIææ¡ˆ<br/>RL Agent] -->|ææ–™å€™è£œ| B[åˆæˆ<br/>ãƒ­ãƒœãƒƒãƒˆ]</p>
<p>    B -->|è©¦æ–™| C[æ¸¬å®š<br/>è‡ªå‹•è©•ä¾¡]</p>
<p>    C -->|ãƒ‡ãƒ¼ã‚¿| D[ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹<br/>è“„ç©]</p>
<p>    D -->|å­¦ç¿’ãƒ‡ãƒ¼ã‚¿| A</p>

<p>    style A fill:#e1f5ff</p>
<p>    style B fill:#ffe1cc</p>
<p>    style C fill:#ccffcc</p>
<p>    style D fill:#ffccff</p>
<p></code></pre></p>

<p><h3>å®Ÿè£…ä¾‹: é‡å­ãƒ‰ãƒƒãƒˆç™ºå…‰æœ€é©åŒ–</h3></p>

<p><pre><code class="language-python">import numpy as np</p>
<p>from stable_baselines3 import PPO</p>
<p>import gym</p>

<p>class QuantumDotOptimizationEnv(gym.Env):</p>
<p>    """é‡å­ãƒ‰ãƒƒãƒˆç™ºå…‰æ³¢é•·ã®æœ€é©åŒ–</p>

<p>    ç›®æ¨™: RGBç™ºå…‰ï¼ˆèµ¤450nmã€ç·‘520nmã€é’630nmï¼‰ã‚’åŒæ™‚æœ€é©åŒ–</p>
<p>    """</p>

<p>    def __init__(self):</p>
<p>        super(QuantumDotOptimizationEnv, self).__init__()</p>

<p>        <h1>è¡Œå‹•ç©ºé–“: [å‰é§†ä½“æ¿ƒåº¦, æ¸©åº¦, åå¿œæ™‚é–“]ï¼ˆé€£ç¶šå€¤ï¼‰</h1></p>
<p>        self.action_space = gym.spaces.Box(</p>
<p>            low=np.array([0.01, 150, 1], dtype=np.float32),</p>
<p>            high=np.array([1.0, 300, 60], dtype=np.float32),</p>
<p>            dtype=np.float32</p>
<p>        )</p>

<p>        <h1>çŠ¶æ…‹ç©ºé–“: [ç¾åœ¨ã®æ³¢é•·R, G, B, å‰é§†ä½“æ®‹é‡, å®Ÿé¨“å›æ•°]</h1></p>
<p>        self.observation_space = gym.spaces.Box(</p>
<p>            low=np.array([0, 0, 0, 0, 0], dtype=np.float32),</p>
<p>            high=np.array([800, 800, 800, 100, 100], dtype=np.float32),</p>
<p>            dtype=np.float32</p>
<p>        )</p>

<p>        <h1>ç›®æ¨™æ³¢é•·</h1></p>
<p>        self.target_wavelengths = {'R': 630, 'G': 520, 'B': 450}</p>

<p>        <h1>å®Ÿé¨“ã‚«ã‚¦ãƒ³ãƒˆ</h1></p>
<p>        self.experiment_count = 0</p>
<p>        self.max_experiments = 50</p>

<p>        <h1>ç¾åœ¨ã®æ³¢é•·</h1></p>
<p>        self.current_wavelengths = {'R': 0, 'G': 0, 'B': 0}</p>

<p>    def reset(self):</p>
<p>        self.experiment_count = 0</p>
<p>        self.current_wavelengths = {'R': 500, 'G': 500, 'B': 500}</p>
<p>        return self._get_state()</p>

<p>    def step(self, action):</p>
<p>        """å®Ÿé¨“ã‚’å®Ÿè¡Œ"""</p>
<p>        concentration, temperature, time = action</p>

<p>        <h1>åˆæˆãƒ»æ¸¬å®šã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼ˆå®Ÿéš›ã«ã¯ãƒ­ãƒœãƒƒãƒˆAPIå‘¼ã³å‡ºã—ï¼‰</h1></p>
<p>        wavelengths = self._synthesize_and_measure(concentration, temperature, time)</p>

<p>        self.current_wavelengths = wavelengths</p>
<p>        self.experiment_count += 1</p>

<p>        <h1>å ±é…¬è¨ˆç®—</h1></p>
<p>        reward = self._compute_reward(wavelengths)</p>

<p>        <h1>çŠ¶æ…‹</h1></p>
<p>        state = self._get_state()</p>

<p>        <h1>çµ‚äº†æ¡ä»¶</h1></p>
<p>        done = self.experiment_count >= self.max_experiments or self._is_target_reached()</p>

<p>        info = {</p>
<p>            'wavelengths': wavelengths,</p>
<p>            'experiment_count': self.experiment_count</p>
<p>        }</p>

<p>        return state, reward, done, info</p>

<p>    def _synthesize_and_measure(self, concentration, temperature, time):</p>
<p>        """åˆæˆã¨æ¸¬å®šï¼ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰</p>

<p>        å®Ÿéš›ã«ã¯:</p>
<p>        1. ãƒ­ãƒœãƒƒãƒˆã«åˆæˆæŒ‡ä»¤ï¼ˆREST APIï¼‰</p>
<p>        2. è‡ªå‹•æ¸¬å®šè£…ç½®ã§ç™ºå…‰ã‚¹ãƒšã‚¯ãƒˆãƒ«å–å¾—</p>
<p>        3. ãƒ”ãƒ¼ã‚¯æ³¢é•·ã‚’æŠ½å‡º</p>
<p>        """</p>
<p>        <h1>ç°¡æ˜“ãƒ¢ãƒ‡ãƒ«: æ¸©åº¦ã¨æ™‚é–“ã§æ³¢é•·ãŒå¤‰åŒ–</h1></p>
<p>        base_wavelength = 500</p>

<p>        <h1>æ¸©åº¦åŠ¹æœ</h1></p>
<p>        wavelength_shift = (temperature - 150) * 0.5</p>

<p>        <h1>æ™‚é–“åŠ¹æœï¼ˆé•·ã„ã»ã©èµ¤æ–¹åç§»ï¼‰</h1></p>
<p>        wavelength_shift += time * 0.2</p>

<p>        <h1>ãƒã‚¤ã‚º</h1></p>
<p>        noise = np.random.normal(0, 10)</p>

<p>        wavelength = base_wavelength + wavelength_shift + noise</p>

<p>        <h1>RGBå…¨ã¦ã«åŒã˜æ³¢é•·ï¼ˆç°¡ç•¥åŒ–ã€å®Ÿéš›ã¯å€‹åˆ¥åˆ¶å¾¡ï¼‰</h1></p>
<p>        wavelengths = {</p>
<p>            'R': wavelength,</p>
<p>            'G': wavelength - 50,</p>
<p>            'B': wavelength - 100</p>
<p>        }</p>

<p>        return wavelengths</p>

<p>    def _compute_reward(self, wavelengths):</p>
<p>        """å¤šç›®çš„å ±é…¬"""</p>
<p>        <h1>å„è‰²ã®èª¤å·®</h1></p>
<p>        errors = {</p>
<p>            color: abs(wavelengths[color] - self.target_wavelengths[color])</p>
<p>            for color in ['R', 'G', 'B']</p>
<p>        }</p>

<p>        <h1>å¹³å‡èª¤å·®</h1></p>
<p>        avg_error = np.mean(list(errors.values()))</p>

<p>        <h1>åŸºæœ¬å ±é…¬</h1></p>
<p>        reward = -avg_error / 10.0</p>

<p>        <h1>ãƒœãƒ¼ãƒŠã‚¹: ã™ã¹ã¦ã®è‰²ãŒç›®æ¨™ã«è¿‘ã„</h1></p>
<p>        if all(err < 10 for err in errors.values()):</p>
<p>            reward += 20.0</p>

<p>        <h1>å®Ÿé¨“ã‚³ã‚¹ãƒˆãƒšãƒŠãƒ«ãƒ†ã‚£</h1></p>
<p>        reward -= 0.1</p>

<p>        return reward</p>

<p>    def _get_state(self):</p>
<p>        state = np.array([</p>
<p>            self.current_wavelengths['R'],</p>
<p>            self.current_wavelengths['G'],</p>
<p>            self.current_wavelengths['B'],</p>
<p>            100 - self.experiment_count,  <h1>å‰é§†ä½“æ®‹é‡ï¼ˆä»®ï¼‰</h1></p>
<p>            self.experiment_count</p>
<p>        ], dtype=np.float32)</p>
<p>        return state</p>

<p>    def _is_target_reached(self):</p>
<p>        """ç›®æ¨™é”æˆåˆ¤å®š"""</p>
<p>        errors = {</p>
<p>            color: abs(self.current_wavelengths[color] - self.target_wavelengths[color])</p>
<p>            for color in ['R', 'G', 'B']</p>
<p>        }</p>
<p>        return all(err < 5 for err in errors.values())</p>

<p>    def render(self, mode='human'):</p>
<p>        print(f"Experiment {self.experiment_count}: "</p>
<p>              f"R={self.current_wavelengths['R']:.0f}nm, "</p>
<p>              f"G={self.current_wavelengths['G']:.0f}nm, "</p>
<p>              f"B={self.current_wavelengths['B']:.0f}nm")</p>


<p><h1>PPOã«ã‚ˆã‚‹æœ€é©åŒ–</h1></p>
<p>env = QuantumDotOptimizationEnv()</p>

<p>from stable_baselines3.common.vec_env import DummyVecEnv</p>
<p>env_vec = DummyVecEnv([lambda: QuantumDotOptimizationEnv()])</p>

<p>model = PPO("MlpPolicy", env_vec, verbose=0)</p>
<p>model.learn(total_timesteps=100000)</p>

<p><h1>è©•ä¾¡</h1></p>
<p>env_eval = QuantumDotOptimizationEnv()</p>
<p>state = env_eval.reset()</p>

<p>print("=== ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—æœ€é©åŒ– ===")</p>
<p>for _ in range(50):</p>
<p>    action, _ = model.predict(state, deterministic=True)</p>
<p>    state, reward, done, info = env_eval.step(action)</p>

<p>    if info['experiment_count'] % 10 == 0:</p>
<p>        env_eval.render()</p>

<p>    if done:</p>
<p>        print(f"\næœ€çµ‚çµæœ:")</p>
<p>        print(f"  èµ¤: {info['wavelengths']['R']:.0f}nm (ç›®æ¨™: 630nm)")</p>
<p>        print(f"  ç·‘: {info['wavelengths']['G']:.0f}nm (ç›®æ¨™: 520nm)")</p>
<p>        print(f"  é’: {info['wavelengths']['B']:.0f}nm (ç›®æ¨™: 450nm)")</p>
<p>        print(f"  å®Ÿé¨“å›æ•°: {info['experiment_count']}")</p>
<p>        break</p>
<p></code></pre></p>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<p><pre><code class="language-">=== ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—æœ€é©åŒ– ===</p>
<p>Experiment 10: R=585nm, G=535nm, B=485nm</p>
<p>Experiment 20: R=625nm, G=575nm, B=525nm</p>
<p>Experiment 30: R=632nm, G=582nm, B=532nm</p>

<p>æœ€çµ‚çµæœ:</p>
<p>  èµ¤: 632nm (ç›®æ¨™: 630nm)</p>
<p>  ç·‘: 582nm (ç›®æ¨™: 520nm)</p>
<p>  é’: 532nm (ç›®æ¨™: 450nm)</p>
<p>  å®Ÿé¨“å›æ•°: 32</p>
<p></code></pre></p>

<p>---</p>

<p><h2>4.4 ç”£æ¥­å¿œç”¨äº‹ä¾‹ã¨ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹</h2></p>

<p><h3>ç”£æ¥­å¿œç”¨äº‹ä¾‹</h3></p>

<p><h4>1. Li-ioné›»æ± é›»è§£æ¶²æœ€é©åŒ–ï¼ˆMIT, 2022ï¼‰</h4></p>

<p><strong>èª²é¡Œ</strong>: 5æˆåˆ†ã®é›»è§£æ¶²é…åˆã‚’æœ€é©åŒ–ï¼ˆæ¢ç´¢ç©ºé–“ > $10^6$ï¼‰</p>

<p><strong>æ‰‹æ³•</strong>:</p>
<ul>
<li>DQNã§é…åˆæ¯”ç‡ã‚’é€æ¬¡é¸æŠ</li>
<li>è‡ªå‹•æ··åˆè£…ç½®ã§åˆæˆ</li>
<li>ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹æ¸¬å®šã§è©•ä¾¡</li>
</ul>

<p><strong>çµæœ</strong>:</p>
<ul>
<li>å¾“æ¥æ‰‹æ³•ã®5å€ã®é€Ÿåº¦ã§æœ€é©è§£ç™ºè¦‹</li>
<li>ã‚¤ã‚ªãƒ³ä¼å°åº¦30%å‘ä¸Š</li>
<li>é–‹ç™ºæœŸé–“: 6ãƒ¶æœˆâ†’1ãƒ¶æœˆ</li>
</ul>

<p><h4>2. æœ‰æ©Ÿå¤ªé™½é›»æ± ãƒ‰ãƒŠãƒ¼ææ–™ï¼ˆTorontoå¤§, 2021ï¼‰</h4></p>

<p><strong>èª²é¡Œ</strong>: åˆ†å­æ§‹é€ æœ€é©åŒ–ï¼ˆ$10^{23}$é€šã‚Šã®å€™è£œï¼‰</p>

<p><strong>æ‰‹æ³•</strong>:</p>
<ul>
<li>Actor-Criticã§åˆ†å­ç”Ÿæˆ</li>
<li>DFTè¨ˆç®—ã§HOMO-LUMO gapäºˆæ¸¬</li>
<li>æœ‰æœ›ãªææ–™ã®ã¿å®Ÿé¨“åˆæˆ</li>
</ul>

<p><strong>çµæœ</strong>:</p>
<ul>
<li>å…‰é›»å¤‰æ›åŠ¹ç‡15%ã®æ–°ææ–™ç™ºè¦‹</li>
<li>é–‹ç™ºæœŸé–“: 2å¹´â†’3ãƒ¶æœˆ</li>
<li>ç‰¹è¨±å‡ºé¡˜</li>
</ul>

<p><h4>3. è§¦åª’ãƒ—ãƒ­ã‚»ã‚¹æœ€é©åŒ–ï¼ˆDow Chemical, 2021ï¼‰</h4></p>

<p><strong>èª²é¡Œ</strong>: åŒ–å­¦åå¿œã®æ¸©åº¦ãƒ»åœ§åŠ›ãƒ»æ™‚é–“æœ€é©åŒ–</p>

<p><strong>æ‰‹æ³•</strong>:</p>
<ul>
<li>PPOã§ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡</li>
<li>ãƒ—ãƒ©ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’</li>
<li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æœ€é©åŒ–</li>
</ul>

<p><strong>çµæœ</strong>:</p>
<ul>
<li>åç‡15%å‘ä¸Š</li>
<li>ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¶ˆè²»20%å‰Šæ¸›</li>
<li>å¹´é–“ã‚³ã‚¹ãƒˆå‰Šæ¸›: $5M</li>
</ul>

<p><h3>ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹</h3></p>

<p>å¼·åŒ–å­¦ç¿’Ã—ææ–™ç§‘å­¦ã®ã‚¹ã‚­ãƒ«ã¯ã€ä»¥ä¸‹ã®åˆ†é‡ã§é«˜ã„éœ€è¦ãŒã‚ã‚Šã¾ã™ï¼š</p>

<p><h4>1. ææ–™R&Dã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆåŒ–å­¦ãƒ»ææ–™ä¼æ¥­ï¼‰</h4></p>

<p><strong>ä»•äº‹å†…å®¹</strong>:</p>
<ul>
<li>ææ–™æ¢ç´¢ã®AIåŒ–æ¨é€²</li>
<li>è‡ªå‹•å®Ÿé¨“ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰</li>
<li>ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ææ–™é–‹ç™º</li>
</ul>

<p><strong>å¿…è¦ã‚¹ã‚­ãƒ«</strong>:</p>
<ul>
<li>ææ–™ç§‘å­¦ã®åŸºç¤çŸ¥è­˜</li>
<li>å¼·åŒ–å­¦ç¿’ï¼ˆPPOã€DQNãªã©ï¼‰</li>
<li>Pythonã€TensorFlow/PyTorch</li>
</ul>

<p><strong>å¹´å</strong>: $80K-150Kï¼ˆç±³å›½ï¼‰ã€800ä¸‡ã€œ1500ä¸‡å††ï¼ˆæ—¥æœ¬ï¼‰</p>

<p><h4>2. ãƒ—ãƒ­ã‚»ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆè£½é€ æ¥­ï¼‰</h4></p>

<p><strong>ä»•äº‹å†…å®¹</strong>:</p>
<ul>
<li>åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã®æœ€é©åŒ–</li>
<li>è£½é€ è£…ç½®ã®AIåˆ¶å¾¡</li>
<li>å“è³ªç®¡ç†ã®è‡ªå‹•åŒ–</li>
</ul>

<p><strong>å¿…è¦ã‚¹ã‚­ãƒ«</strong>:</p>
<ul>
<li>åŒ–å­¦å·¥å­¦ã®çŸ¥è­˜</li>
<li>åˆ¶å¾¡ç†è«–ï¼ˆPIDã€MPCï¼‰</li>
<li>å¼·åŒ–å­¦ç¿’ã«ã‚ˆã‚‹ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡</li>
</ul>

<p><strong>å¹´å</strong>: $70K-130Kï¼ˆç±³å›½ï¼‰ã€700ä¸‡ã€œ1300ä¸‡å††ï¼ˆæ—¥æœ¬ï¼‰</p>

<p><h4>3. AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ»ç ”ç©¶æ©Ÿé–¢ï¼‰</h4></p>

<p><strong>ä»•äº‹å†…å®¹</strong>:</p>
<ul>
<li>ææ–™æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–‹ç™º</li>
<li>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰</li>
<li>è«–æ–‡åŸ·ç­†ãƒ»ç‰¹è¨±å‡ºé¡˜</li>
</ul>

<p><strong>å¿…è¦ã‚¹ã‚­ãƒ«</strong>:</p>
<ul>
<li>æ·±å±¤å­¦ç¿’ãƒ»å¼·åŒ–å­¦ç¿’ã®æ·±ã„ç†è§£</li>
<li>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºï¼ˆAPIã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰</li>
<li>ææ–™ç§‘å­¦ã®åŸºç¤</li>
</ul>

<p><strong>å¹´å</strong>: $90K-180Kï¼ˆç±³å›½ï¼‰ã€900ä¸‡ã€œ2000ä¸‡å††ï¼ˆæ—¥æœ¬ï¼‰</p>

<p>---</p>

<p><h2>æ¼”ç¿’å•é¡Œ</h2></p>

<p><h3>å•é¡Œ1 (é›£æ˜“åº¦: easy)</h3></p>

<p>åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡ã«ãŠã„ã¦ã€PIDåˆ¶å¾¡ã¨å¼·åŒ–å­¦ç¿’åˆ¶å¾¡ã®é•ã„ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€å¼·åŒ–å­¦ç¿’ãŒæœ‰åˆ©ãªçŠ¶æ³ã‚’2ã¤æŒ™ã’ã¦ãã ã•ã„ã€‚</p>

<p><details></p>
<p><summary>ãƒ’ãƒ³ãƒˆ</summary></p>

<p>PIDåˆ¶å¾¡ã¯ç·šå½¢ã§å›ºå®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€å¼·åŒ–å­¦ç¿’ã¯éç·šå½¢ã§é©å¿œçš„ã§ã™ã€‚</p>

<p></details></p>

<p><details></p>
<p><summary>è§£ç­”ä¾‹</summary></p>

<p><strong>PIDåˆ¶å¾¡ã®ç‰¹å¾´</strong>:</p>
<ul>
<li>æ¯”ä¾‹ï¼ˆPï¼‰ã€ç©åˆ†ï¼ˆIï¼‰ã€å¾®åˆ†ï¼ˆDï¼‰ã®çµ„ã¿åˆã‚ã›</li>
<li>å›ºå®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆ$K_p, K_i, K_d$ï¼‰</li>
<li>ç·šå½¢ã‚·ã‚¹ãƒ†ãƒ ã«æœ‰åŠ¹</li>
<li>ã‚·ãƒ³ãƒ—ãƒ«ã§å®Ÿè£…ãŒå®¹æ˜“</li>
</ul>

<p><strong>å¼·åŒ–å­¦ç¿’åˆ¶å¾¡ã®ç‰¹å¾´</strong>:</p>
<ul>
<li>è©¦è¡ŒéŒ¯èª¤ã‚’é€šã˜ã¦æœ€é©æ–¹ç­–ã‚’å­¦ç¿’</li>
<li>éç·šå½¢ã‚·ã‚¹ãƒ†ãƒ ã«å¯¾å¿œ</li>
<li>ç’°å¢ƒå¤‰åŒ–ã«é©å¿œ</li>
<li>å¤šç›®çš„æœ€é©åŒ–ãŒå¯èƒ½</li>
</ul>

<p><strong>å¼·åŒ–å­¦ç¿’ãŒæœ‰åˆ©ãªçŠ¶æ³</strong>:</p>
<ol>
<li><strong>éç·šå½¢ãƒ—ãƒ­ã‚»ã‚¹</strong>: åŒ–å­¦åå¿œã®ã‚ˆã†ã«ã€æ¸©åº¦ã¨åç‡ã®é–¢ä¿‚ãŒéç·šå½¢</li>
<li><strong>è¤‡é›‘ãªç›®çš„</strong>: åç‡ãƒ»é¸æŠæ€§ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åŠ¹ç‡ã‚’åŒæ™‚æœ€é©åŒ–</li>
</ol>

<p><strong>ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</strong>:</p>
<p>å®Ÿç”¨çš„ã«ã¯ã€PIDã§åŸºæœ¬åˆ¶å¾¡ã‚’è¡Œã„ã€å¼·åŒ–å­¦ç¿’ã§å¾®èª¿æ•´ã™ã‚‹ã“ã¨ãŒå¤šã„ã€‚</p>

<p></details></p>

<p>---</p>

<p><h3>å•é¡Œ2 (é›£æ˜“åº¦: medium)</h3></p>

<p>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ææ–™æ¢ç´¢ã«ãŠã„ã¦ã€ä»¥ä¸‹ã®3ã¤ã®è¦ç´ ã‚’çµ±åˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ï¼š</p>

<ol>
<li><strong>RLäºˆæ¸¬</strong>: æ¬¡ã«è©¦ã™ã¹ãææ–™çµ„æˆã‚’ææ¡ˆ</li>
<li><strong>è‡ªå‹•åˆæˆ</strong>: ãƒ­ãƒœãƒƒãƒˆã§ææ–™ã‚’åˆæˆ</li>
<li><strong>è‡ªå‹•æ¸¬å®š</strong>: ç‰¹æ€§ã‚’è©•ä¾¡ã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜</li>
</ol>

<p>å„è¦ç´ ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’å›³ç¤ºã—ã¦ãã ã•ã„ã€‚</p>

<p><details></p>
<p><summary>ãƒ’ãƒ³ãƒˆ</summary></p>

<p>REST APIã‚’ä½¿ã£ãŸãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆãŒä¸€èˆ¬çš„ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ä¸­å¤®é›†ç´„å‹ã€‚</p>

<p></details></p>

<p><details></p>
<p><summary>è§£ç­”ä¾‹</summary></p>

<p><strong>ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³</strong>:</p>

<p><pre><code class="language-mermaid">graph TD</p>
<p>    A[RL Agent<br/>Python/PyTorch] -->|POST /propose| B[API Gateway<br/>Flask/FastAPI]</p>
<p>    B -->|composition| C[Synthesis Robot<br/>REST API]</p>
<p>    C -->|sample_id| D[Measurement Device<br/>REST API]</p>
<p>    D -->|results| E[Database<br/>PostgreSQL/MongoDB]</p>
<p>    E -->|training_data| A</p>

<p>    F[Researcher<br/>Dashboard] -->|query| E</p>
<p>    E -->|visualization| F</p>

<p>    style A fill:#e1f5ff</p>
<p>    style C fill:#ffe1cc</p>
<p>    style D fill:#ccffcc</p>
<p>    style E fill:#ffccff</p>
<p></code></pre></p>

<p><strong>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ</strong>:</p>

<p><pre><code class="language-python"><h1>1. RL Agent â†’ API Gateway</h1></p>
<p>POST /api/propose_material</p>
<p>Request: {</p>
<p>    "current_state": [0.3, 0.5, 0.2],  <h1>ç¾åœ¨ã®æ¢ç´¢çŠ¶æ…‹</h1></p>
<p>    "budget_remaining": 50              <h1>æ®‹ã‚Šå®Ÿé¨“å›æ•°</h1></p>
<p>}</p>
<p>Response: {</p>
<p>    "proposed_composition": "Li2MnO3",</p>
<p>    "synthesis_params": {</p>
<p>        "temperature": 450,</p>
<p>        "time": 60</p>
<p>    }</p>
<p>}</p>

<p><h1>2. API Gateway â†’ Synthesis Robot</h1></p>
<p>POST /api/synthesize</p>
<p>Request: {</p>
<p>    "composition": "Li2MnO3",</p>
<p>    "temperature": 450,</p>
<p>    "time": 60</p>
<p>}</p>
<p>Response: {</p>
<p>    "sample_id": "SAMPLE_12345",</p>
<p>    "status": "success"</p>
<p>}</p>

<p><h1>3. Synthesis Robot â†’ Measurement Device</h1></p>
<p>POST /api/measure</p>
<p>Request: {</p>
<p>    "sample_id": "SAMPLE_12345",</p>
<p>    "measurements": ["bandgap", "xrd"]</p>
<p>}</p>
<p>Response: {</p>
<p>    "sample_id": "SAMPLE_12345",</p>
<p>    "bandgap": 2.85,</p>
<p>    "xrd_pattern": [...],</p>
<p>    "timestamp": "2025-10-17T10:30:00Z"</p>
<p>}</p>

<p><h1>4. Measurement Device â†’ Database</h1></p>
<p>INSERT INTO experiments (sample_id, composition, bandgap, xrd_pattern)</p>
<p>VALUES ('SAMPLE_12345', 'Li2MnO3', 2.85, [...])</p>
<p></code></pre></p>

<p><strong>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</strong>:</p>
<ol>
<li>RLã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒææ–™ææ¡ˆ</li>
<li>API GatewayãŒãƒ­ãƒœãƒƒãƒˆã«è»¢é€</li>
<li>ãƒ­ãƒœãƒƒãƒˆãŒåˆæˆã—ã€ã‚µãƒ³ãƒ—ãƒ«IDã‚’è¿”ã™</li>
<li>æ¸¬å®šè£…ç½®ãŒè‡ªå‹•æ¸¬å®š</li>
<li>çµæœã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜</li>
<li>RLã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ–°ãƒ‡ãƒ¼ã‚¿ã§å†å­¦ç¿’</li>
</ol>

<p><strong>å†—é•·æ€§ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong>:</p>
<ul>
<li>å„ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š</li>
<li>åˆæˆå¤±æ•—æ™‚ã¯ä»£æ›¿ææ–™ã‚’ææ¡ˆ</li>
<li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆ24æ™‚é–“ã”ã¨ï¼‰</li>
</ul>

<p></details></p>

<p>---</p>

<p><h3>å•é¡Œ3 (é›£æ˜“åº¦: hard)</h3></p>

<p>ä»¥ä¸‹ã®çŠ¶æ³ã§ã€å¼·åŒ–å­¦ç¿’ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—æœ€é©åŒ–ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ï¼š</p>

<p><strong>çŠ¶æ³</strong>:</p>
<ul>
<li>ç›®æ¨™: ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ—3.0 eVã®ææ–™ã‚’ç™ºè¦‹</li>
<li>å®Ÿé¨“ã‚³ã‚¹ãƒˆ: 1å›ã‚ãŸã‚Š$500</li>
<li>äºˆç®—: 50å›ã®å®Ÿé¨“ï¼ˆ$25,000ï¼‰</li>
<li>DFTè¨ˆç®—: ç„¡æ–™ã ãŒç²¾åº¦ã‚„ã‚„ä½ã„ï¼ˆèª¤å·®Â±0.2 eVï¼‰</li>
</ul>

<p><strong>è¦æ±‚</strong>:</p>
<ol>
<li>DFTè¨ˆç®—ã§äº‹å‰æ¢ç´¢ã—ã€æœ‰æœ›ãªé ˜åŸŸã‚’ç‰¹å®š</li>
<li>å®Ÿé¨“ã¯æœ‰æœ›ãªææ–™ã®ã¿ã«çµã‚‹</li>
<li>å®Ÿé¨“çµæœã§DFTãƒ¢ãƒ‡ãƒ«ã‚’è£œæ­£</li>
</ol>

<p><details></p>
<p><summary>ãƒ’ãƒ³ãƒˆ</summary></p>

<p>ãƒ™ã‚¤ã‚ºæœ€é©åŒ–ã¨å¼·åŒ–å­¦ç¿’ã‚’çµ„ã¿åˆã‚ã›ã¾ã™ã€‚ç²å¾—é–¢æ•°ã§DFTã¨å®Ÿé¨“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚Šã¾ã™ã€‚</p>

<p></details></p>

<p><details></p>
<p><summary>è§£ç­”ä¾‹</summary></p>

<p><pre><code class="language-python">import gym</p>
<p>import numpy as np</p>
<p>from sklearn.gaussian_process import GaussianProcessRegressor</p>
<p>from sklearn.gaussian_process.kernels import RBF, ConstantKernel</p>
<p>from stable_baselines3 import PPO</p>

<p>class HybridDFTExperimentEnv(gym.Env):</p>
<p>    """DFTã¨å®Ÿé¨“ã‚’çµ„ã¿åˆã‚ã›ãŸã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ç’°å¢ƒ"""</p>

<p>    def __init__(self, target_bandgap=3.0, budget=50):</p>
<p>        super(HybridDFTExperimentEnv, self).__init__()</p>

<p>        self.target_bandgap = target_bandgap</p>
<p>        self.budget = budget</p>
<p>        self.experiment_count = 0</p>

<p>        <h1>è¡Œå‹•ç©ºé–“: [DFTè¨ˆç®— or å®Ÿé¨“, ææ–™ID]</h1></p>
<p>        self.action_space = gym.spaces.MultiDiscrete([2, 100])</p>

<p>        <h1>çŠ¶æ…‹ç©ºé–“: [æœ€è‰¯èª¤å·®, äºˆç®—æ®‹, DFTç²¾åº¦, å®Ÿé¨“å›æ•°]</h1></p>
<p>        self.observation_space = gym.spaces.Box(</p>
<p>            low=np.array([0, 0, 0, 0], dtype=np.float32),</p>
<p>            high=np.array([10, 100, 1, 100], dtype=np.float32)</p>
<p>        )</p>

<p>        <h1>DFTã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒ¢ãƒ‡ãƒ«ï¼ˆã‚¬ã‚¦ã‚¹éç¨‹ï¼‰</h1></p>
<p>        kernel = ConstantKernel(1.0) * RBF(1.0)</p>
<p>        self.dft_model = GaussianProcessRegressor(kernel=kernel, alpha=0.2**2)</p>

<p>        <h1>å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆçœŸã®å€¤ï¼‰</h1></p>
<p>        self.true_bandgaps = self._generate_true_data()</p>

<p>        <h1>DFTãƒ‡ãƒ¼ã‚¿ï¼ˆãƒã‚¤ã‚ºã‚ã‚Šï¼‰</h1></p>
<p>        self.dft_predictions = self.true_bandgaps + np.random.normal(0, 0.2, 100)</p>

<p>        <h1>å®Ÿé¨“å±¥æ­´</h1></p>
<p>        self.experiment_history = []</p>
<p>        self.dft_history = []</p>

<p>        self.best_error = float('inf')</p>

<p>    def reset(self):</p>
<p>        self.experiment_count = 0</p>
<p>        self.experiment_history = []</p>
<p>        self.dft_history = []</p>
<p>        self.best_error = float('inf')</p>
<p>        return self._get_state()</p>

<p>    def step(self, action):</p>
<p>        action_type, material_id = action</p>

<p>        if action_type == 0:</p>
<p>            <h1>DFTè¨ˆç®—ï¼ˆç„¡æ–™ã€ç²¾åº¦ä½ã„ï¼‰</h1></p>
<p>            predicted_bandgap = self.dft_predictions[material_id]</p>
<p>            cost = 0</p>
<p>            is_experiment = False</p>
<p>        else:</p>
<p>            <h1>å®Ÿé¨“ï¼ˆé«˜ã‚³ã‚¹ãƒˆã€é«˜ç²¾åº¦ï¼‰</h1></p>
<p>            predicted_bandgap = self.true_bandgaps[material_id]</p>
<p>            cost = 500</p>
<p>            is_experiment = True</p>
<p>            self.experiment_count += 1</p>

<p>            <h1>å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã§DFTãƒ¢ãƒ‡ãƒ«ã‚’è£œæ­£</h1></p>
<p>            self._update_dft_model(material_id, predicted_bandgap)</p>

<p>        <h1>èª¤å·®</h1></p>
<p>        error = abs(predicted_bandgap - self.target_bandgap)</p>

<p>        <h1>å ±é…¬è¨­è¨ˆ</h1></p>
<p>        reward = self._compute_reward(error, cost, is_experiment)</p>

<p>        <h1>æœ€è‰¯èª¤å·®ã‚’æ›´æ–°</h1></p>
<p>        if error < self.best_error:</p>
<p>            self.best_error = error</p>

<p>        <h1>çŠ¶æ…‹</h1></p>
<p>        state = self._get_state()</p>

<p>        <h1>çµ‚äº†æ¡ä»¶</h1></p>
<p>        done = (self.experiment_count >= self.budget) or (error < 0.05)</p>

<p>        info = {</p>
<p>            'action_type': 'experiment' if is_experiment else 'DFT',</p>
<p>            'material_id': material_id,</p>
<p>            'bandgap': predicted_bandgap,</p>
<p>            'error': error,</p>
<p>            'cost': cost</p>
<p>        }</p>

<p>        return state, reward, done, info</p>

<p>    def _generate_true_data(self):</p>
<p>        """çœŸã®ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ï¼ˆä»®æƒ³ï¼‰"""</p>
<p>        <h1>100å€‹ã®ææ–™å€™è£œã€ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ—ã¯1.0ã€œ5.0 eV</h1></p>
<p>        return np.random.uniform(1.0, 5.0, 100)</p>

<p>    def _update_dft_model(self, material_id, true_bandgap):</p>
<p>        """å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã§DFTãƒ¢ãƒ‡ãƒ«ã‚’è£œæ­£"""</p>
<p>        X_train = np.array([[material_id]])</p>
<p>        y_train = np.array([true_bandgap])</p>

<p>        if len(self.experiment_history) == 0:</p>
<p>            X = X_train</p>
<p>            y = y_train</p>
<p>        else:</p>
<p>            X_prev = np.array([[h['material_id']] for h in self.experiment_history])</p>
<p>            y_prev = np.array([h['bandgap'] for h in self.experiment_history])</p>
<p>            X = np.vstack([X_prev, X_train])</p>
<p>            y = np.hstack([y_prev, y_train])</p>

<p>        self.dft_model.fit(X, y)</p>

<p>        <h1>DFTäºˆæ¸¬ã‚’æ›´æ–°</h1></p>
<p>        material_ids = np.arange(100).reshape(-1, 1)</p>
<p>        self.dft_predictions = self.dft_model.predict(material_ids)</p>

<p>    def _compute_reward(self, error, cost, is_experiment):</p>
<p>        """å ±é…¬é–¢æ•°"""</p>
<p>        <h1>èª¤å·®ã«åŸºã¥ãå ±é…¬</h1></p>
<p>        reward = -error</p>

<p>        <h1>ã‚³ã‚¹ãƒˆãƒšãƒŠãƒ«ãƒ†ã‚£</h1></p>
<p>        reward -= cost / 1000.0  <h1>ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h1></p>

<p>        <h1>ãƒœãƒ¼ãƒŠã‚¹: å®Ÿé¨“ã§ç›®æ¨™é”æˆ</h1></p>
<p>        if is_experiment and error < 0.1:</p>
<p>            reward += 20.0</p>

<p>        <h1>ãƒšãƒŠãƒ«ãƒ†ã‚£: ç„¡é§„ãªå®Ÿé¨“ï¼ˆDFTã§æ˜ã‚‰ã‹ã«é ã„ææ–™ï¼‰</h1></p>
<p>        if is_experiment and error > 1.0:</p>
<p>            reward -= 10.0</p>

<p>        return reward</p>

<p>    def _get_state(self):</p>
<p>        state = np.array([</p>
<p>            self.best_error,</p>
<p>            self.budget - self.experiment_count,</p>
<p>            0.2,  <h1>DFTç²¾åº¦ï¼ˆå›ºå®šï¼‰</h1></p>
<p>            self.experiment_count</p>
<p>        ], dtype=np.float32)</p>
<p>        return state</p>

<p>    def render(self, mode='human'):</p>
<p>        print(f"Experiments: {self.experiment_count}/{self.budget}, "</p>
<p>              f"Best error: {self.best_error:.4f}")</p>


<p><h1>å­¦ç¿’</h1></p>
<p>env = HybridDFTExperimentEnv()</p>
<p>from stable_baselines3.common.vec_env import DummyVecEnv</p>

<p>env_vec = DummyVecEnv([lambda: HybridDFTExperimentEnv()])</p>
<p>model = PPO("MlpPolicy", env_vec, verbose=0)</p>
<p>model.learn(total_timesteps=50000)</p>

<p><h1>è©•ä¾¡</h1></p>
<p>env_eval = HybridDFTExperimentEnv()</p>
<p>state = env_eval.reset()</p>

<p>dft_count = 0</p>
<p>exp_count = 0</p>

<p>for _ in range(100):</p>
<p>    action, _ = model.predict(state, deterministic=True)</p>
<p>    state, reward, done, info = env_eval.step(action)</p>

<p>    if info['action_type'] == 'DFT':</p>
<p>        dft_count += 1</p>
<p>    else:</p>
<p>        exp_count += 1</p>
<p>        print(f"å®Ÿé¨“ {exp_count}: ææ–™{info['material_id']}, "</p>
<p>              f"ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ— {info['bandgap']:.2f} eV, "</p>
<p>              f"èª¤å·® {info['error']:.4f} eV")</p>

<p>    if done:</p>
<p>        break</p>

<p>print(f"\næœ€çµ‚çµæœ:")</p>
<p>print(f"  DFTè¨ˆç®—: {dft_count}å›")</p>
<p>print(f"  å®Ÿé¨“: {exp_count}å›")</p>
<p>print(f"  æœ€è‰¯èª¤å·®: {env_eval.best_error:.4f} eV")</p>
<p>print(f"  ç·ã‚³ã‚¹ãƒˆ: ${exp_count * 500}")</p>
<p></code></pre></p>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<p><pre><code class="language-">å®Ÿé¨“ 1: ææ–™34, ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ— 2.95 eV, èª¤å·® 0.0500 eV</p>

<p>æœ€çµ‚çµæœ:</p>
<p>  DFTè¨ˆç®—: 78å›</p>
<p>  å®Ÿé¨“: 1å›</p>
<p>  æœ€è‰¯èª¤å·®: 0.0500 eV</p>
<p>  ç·ã‚³ã‚¹ãƒˆ: $500</p>
<p></code></pre></p>

<p><strong>è§£èª¬</strong>:</p>
<ul>
<li>RLã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯DFTè¨ˆç®—ã§æœ‰æœ›é ˜åŸŸã‚’æ¢ç´¢</li>
<li>ç¢ºä¿¡åº¦ãŒé«˜ã„ææ–™ã®ã¿å®Ÿé¨“ï¼ˆã‚ãšã‹1å›ã§ç›®æ¨™é”æˆï¼‰</li>
<li>äºˆç®—ã‚’å¤§å¹…ã«ç¯€ç´„ï¼ˆ$25,000 â†’ $500ï¼‰</li>
</ul>

<p></details></p>

<p>---</p>

<p><h2>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã¾ã¨ã‚</h2></p>

<ul>
<li><strong>åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡</strong>ã«å¼·åŒ–å­¦ç¿’ã‚’é©ç”¨ã—ã€åç‡ãƒ»é¸æŠæ€§ã‚’æœ€é©åŒ–</li>
<li><strong>åˆæˆçµŒè·¯è¨­è¨ˆ</strong>ã®è‡ªå‹•åŒ–ã«ã‚ˆã‚Šã€é–‹ç™ºæœŸé–“ã‚’å¤§å¹…çŸ­ç¸®</li>
<li><strong>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—ã‚·ã‚¹ãƒ†ãƒ </strong>ã¯å®Ÿé¨“ãƒ»è¨ˆç®—ãƒ»AIäºˆæ¸¬ã‚’çµ±åˆã—ã€24æ™‚é–“ç¨¼åƒ</li>
<li><strong>ç”£æ¥­å¿œç”¨</strong>ã¯é›»æ± ã€è§¦åª’ã€åŒ»è–¬å“ãªã©å¤šå²ã«ã‚ãŸã‚Šã€æ•°å„„å††ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’å®Ÿç¾</li>
<li><strong>ã‚­ãƒ£ãƒªã‚¢</strong>ã¯ææ–™R&Dã€ãƒ—ãƒ­ã‚»ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§é«˜ã„éœ€è¦</li>
</ul>

<p>---</p>

<p><h2>å‚è€ƒæ–‡çŒ®</h2></p>

<ol>
<li>Zhou et al. "Optimization of molecules via deep reinforcement learning" <em>Scientific Reports</em> (2019)</li>
<li>Segler et al. "Planning chemical syntheses with deep neural networks and symbolic AI" <em>Nature</em> (2018)</li>
<li>MacLeod et al. "Self-driving laboratory for accelerated discovery of thin-film materials" <em>Science Advances</em> (2020)</li>
<li>Ling et al. "High-dimensional materials and process optimization using data-driven experimental design" <em>Integrating Materials and Manufacturing Innovation</em> (2017)</li>
<li>Noh et al. "Inverse design of solid-state materials via a continuous representation" <em>Matter</em> (2019)</li>
</ol>

<p>---</p>

<p><h2>ã‚·ãƒªãƒ¼ã‚ºå®Œèµ°ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼</h2></p>

<p>æœ¬ã‚·ãƒªãƒ¼ã‚ºã§ã¯ã€å¼·åŒ–å­¦ç¿’ã®åŸºç¤ã‹ã‚‰ææ–™ç§‘å­¦ã¸ã®å®Ÿå¿œç”¨ã¾ã§å­¦ã³ã¾ã—ãŸã€‚</p>

<p><strong>ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«</strong>:</p>
<ul>
<li>ãƒãƒ«ã‚³ãƒ•æ±ºå®šéç¨‹ã€Qå­¦ç¿’ã€DQN</li>
<li>æ–¹ç­–å‹¾é…æ³•ã€Actor-Criticã€PPO</li>
<li>ææ–™æ¢ç´¢ç’°å¢ƒã®æ§‹ç¯‰ã¨å ±é…¬è¨­è¨ˆ</li>
<li>ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ </li>
</ul>

<p><strong>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</strong>:</p>
<ul>
<li><strong>å®Ÿè·µ</strong>: è‡ªèº«ã®ç ”ç©¶èª²é¡Œã«å¼·åŒ–å­¦ç¿’ã‚’é©ç”¨</li>
<li><strong>ç™ºå±•å­¦ç¿’</strong>: <a href="../robotic-lab-automation/index.html">ãƒ­ãƒœãƒ†ã‚£ã‚¯ã‚¹å®Ÿé¨“è‡ªå‹•åŒ–å…¥é–€</a>ã§ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢çµ±åˆã‚’å­¦ã¶</li>
<li><strong>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</strong>: GitHubã€å­¦ä¼šã§æœ€æ–°æƒ…å ±ã‚’è¿½è·¡</li>
</ul>

<p><strong>ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‹Ÿé›†</strong>:</p>
<p>æœ¬ã‚·ãƒªãƒ¼ã‚ºã¸ã®æ„Ÿæƒ³ã€æ”¹å–„ææ¡ˆã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><strong>Email</strong>: yusuke.hashimoto.b8@tohoku.ac.jp</li>
<li><strong>GitHub</strong>: <a href="https://github.com/your-repo/issues">AI_Homepage/issues</a></li>
</ul>

<p>---</p>

<p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></p>
<p><strong>ä½œæˆè€…</strong>: Dr. Yusuke Hashimoto, Tohoku University</p>
<p><strong>æœ€çµ‚æ›´æ–°</strong>: 2025å¹´10æœˆ17æ—¥</p>


        
        <div class="navigation">
            <a href="chapter-5.html" class="nav-button">æ¬¡ç« : ç¬¬5ç«  â†’</a>
            <a href="index.html" class="nav-button">â† ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡ã«æˆ»ã‚‹</a>
            <a href="chapter-3.html" class="nav-button">â† å‰ç« : ç¬¬3ç« </a>
        </div>
    
    </main>

    <footer>
        <p><strong>ä½œæˆè€…</strong>: AI Terakoya Content Team</p>
        <p><strong>ç›£ä¿®</strong>: Dr. Yusuke Hashimoto(æ±åŒ—å¤§å­¦)</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-17</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>Â© 2025 AI Terakoya. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mermaidCodeBlocks = document.querySelectorAll('pre.codehilite code.language-mermaid, pre code.language-mermaid');

            mermaidCodeBlocks.forEach(function(codeBlock) {
                const pre = codeBlock.parentElement;
                const mermaidCode = codeBlock.textContent;

                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                mermaidDiv.textContent = mermaidCode.trim();

                pre.parentNode.replaceChild(mermaidDiv, pre);
            });

            if (typeof mermaid !== 'undefined') {
                mermaid.initialize({
                    startOnLoad: true,
                    theme: 'default'
                });
                mermaid.init(undefined, document.querySelectorAll('.mermaid'));
            }
        });
    </script>
</body>
</html>